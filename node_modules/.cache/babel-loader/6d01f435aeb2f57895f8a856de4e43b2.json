{"ast":null,"code":"import _toConsumableArray from\"/Users/andrejsmolencev/Desktop/first-stage/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/andrejsmolencev/Desktop/first-stage/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import*as scormHelper from'../utils/scormHelper';import JSZip from\"jszip\";import{saveAs}from'file-saver';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GenerateScormPage=function GenerateScormPage(){var _useState=useState([{question:'',answers:[{answer:'',isValid:false}]}]),_useState2=_slicedToArray(_useState,2),questionList=_useState2[0],setQuestionList=_useState2[1];var generateScorm=function generateScorm(e){e.preventDefault();console.log(JSON.stringify(questionList));var jsonScorm=scormHelper.generateScormJson(questionList);console.log('GENERATED JSON\\n');console.log(JSON.stringify(jsonScorm));};return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"nav\",{class:\"navbar navbar-light bg-light\",children:\" \"}),/*#__PURE__*/_jsx(\"p\",{className:\"w-100\",children:/*#__PURE__*/_jsx(\"h1\",{class:\"display-6 container-fluid d-flex h-100 justify-content-center \",children:\"\\u042D\\u0442\\u0430\\u043F 3: \\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\\u044B \\u0438 \\u0443\\u043A\\u0430\\u0436\\u0438\\u0442\\u0435 \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0435 \\u043E\\u0442\\u0432\\u0435\\u0442\\u044B\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"w-100\",children:/*#__PURE__*/_jsxs(\"h2\",{class:\"display-7 container-fluid d-flex h-100 justify-content-center \",children:[\"\\u041A\\u043E\\u043B-\\u0432\\u043E \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\\u043E\\u0432: \",questionList.length]})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-column\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"d-flex flex-column\",onSubmit:function onSubmit(e){return generateScorm(e);},children:[questionList.map(function(questionItem,questionIndex){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-row\",children:/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\u0412\\u043E\\u043F\\u0440\\u043E\\u0441 \\u2116\",questionIndex+1]})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u0412\\u043E\\u043F\\u0440\\u043E\\u0441 \".concat(questionIndex+1),onChange:function onChange(e){var newCollection=_toConsumableArray(questionList);newCollection[questionIndex].question=e.target.value;setQuestionList(newCollection);}})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 mb-1\",children:\"\\u041E\\u0442\\u0432\\u0435\\u0442\\u044B\"}),questionItem.answers.map(function(answerItem,answerIndex){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u041E\\u0442\\u0432\\u0435\\u0442 \".concat(answerIndex+1),onChange:function onChange(e){var newCollection=_toConsumableArray(questionList);newCollection[questionIndex].answers[answerIndex].answer=e.target.value;setQuestionList(newCollection);}}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:function onChange(e){var newCollection=_toConsumableArray(questionList);newCollection[questionIndex].answers[answerIndex].isValid=e.target.checked;setQuestionList(newCollection);}// name={key}\n,checked:answerItem.isValid}),\"\".concat(answerItem.isValid?'Правильный':'Неправильный')]})]},answerIndex);}),/*#__PURE__*/_jsxs(\"form\",{class:\"container-fluid d-flex h-100 justify-content-center \",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-danger me-2\",type:\"button\",onClick:function onClick(){var newCollection=_toConsumableArray(questionList);newCollection[questionIndex].answers.pop();setQuestionList(newCollection);},children:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u043E\\u0442\\u0432\\u0435\\u0442\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary me-2\",type:\"button\",onClick:function onClick(){var newCollection=_toConsumableArray(questionList);newCollection[questionIndex].answers.push({answer:'',isValid:false});setQuestionList(newCollection);},children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u0442\\u0432\\u0435\\u0442\"})]}),/*#__PURE__*/_jsx(\"hr\",{})]},questionIndex);}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-row mx-auto\"}),/*#__PURE__*/_jsxs(\"nav\",{class:\"navbar fixed-bottom navbar-light bg-light \",children:[/*#__PURE__*/_jsxs(\"form\",{class:\"container-fluid d-flex h-100 justify-content-center \",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-outline-primary me-2\",onClick:function onClick(e){window.location.assign('http://localhost:3000/second');},children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-outline-danger me-2\",onClick:function onClick(e){var newCollection=_toConsumableArray(questionList);newCollection.pop();setQuestionList(newCollection);},children:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u043F\\u043E\\u0441\\u043B\\u0435\\u0434\\u043D\\u0438\\u0439 \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-primary me-2\",onClick:function onClick(e){var newCollection=_toConsumableArray(questionList);newCollection.push({question:'',answers:[{answer:'123',isValid:false}]});setQuestionList(newCollection);},children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043D\\u043E\\u0432\\u044B\\u0439 \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-success\",onClick:function onClick(e){var zip=require('jszip')();var files=e.target.files;for(var file=0;file<e.target.files.length;file++){// Zip file with the file name.\nzip.file(files[file].name,files[file]);}zip.generateAsync({type:\"blob\"}).then(function(content){saveAs(content,\"example.zip\");});},children:\"\\u0421\\u0433\\u0435\\u043D\\u0435\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C SCORM-\\u043F\\u0430\\u043A\\u0435\\u0442\"})]}),/*#__PURE__*/_jsx(\"div\",{})]})]})})]});};export default GenerateScormPage;","map":{"version":3,"names":["React","useState","scormHelper","JSZip","saveAs","GenerateScormPage","question","answers","answer","isValid","questionList","setQuestionList","generateScorm","e","preventDefault","console","log","JSON","stringify","jsonScorm","generateScormJson","length","map","questionItem","questionIndex","newCollection","target","value","answerItem","answerIndex","checked","pop","push","window","location","assign","zip","require","files","file","name","generateAsync","type","then","content"],"sources":["/Users/andrejsmolencev/Desktop/first-stage/src/pages/generateScormPage.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport * as scormHelper from '../utils/scormHelper';\nimport JSZip from \"jszip\";\nimport { saveAs } from 'file-saver';\n\nconst GenerateScormPage = () => {\n    const [questionList, setQuestionList] = useState([{ question: '', answers: [{ answer: '', isValid: false }] }]);\n    \n    const generateScorm = (e) => {\n        e.preventDefault();\n        console.log(JSON.stringify(questionList));\n        const jsonScorm = scormHelper.generateScormJson(questionList);\n        console.log('GENERATED JSON\\n');\n        console.log(JSON.stringify(jsonScorm));\n    }\n\n    return <div className=\"d-flex flex-column\">\n        <nav class=\"navbar navbar-light bg-light\"> </nav>\n        <p className=\"w-100\">\n            <h1 class=\"display-6 container-fluid d-flex h-100 justify-content-center \">Этап 3: Добавьте вопросы и укажите правильные ответы</h1>\n        </p>\n        \n        <p className=\"w-100\">\n        <h2 class=\"display-7 container-fluid d-flex h-100 justify-content-center \">Кол-во вопросов: {questionList.length}</h2>\n        </p>\n        <div className=\"d-flex flex-column\">\n            <form className='d-flex flex-column' onSubmit={(e) => generateScorm(e)}>\n                {\n                    questionList.map((questionItem, questionIndex) => {\n                        return <React.Fragment key={questionIndex}>\n                            <div className=\"d-flex flex-column\">\n                                <div className='d-flex flex-row'>\n                                    <h2>Вопрос №{questionIndex + 1}</h2>\n                                </div>\n                                <input type=\"text\" placeholder={`Вопрос ${questionIndex + 1}`} onChange={(e) => {\n                                    let newCollection = [...questionList];\n                                    newCollection[questionIndex].question = e.target.value;\n                                    setQuestionList(newCollection);\n                                }} />\n                            </div>\n                            <p className='mt-2 mb-1'>\n                                Ответы\n                            </p>\n                            {\n                                questionItem.answers.map((answerItem, answerIndex) => {\n                                    return <React.Fragment key={answerIndex}>\n                                        <input type=\"text\" placeholder={`Ответ ${answerIndex + 1}`} onChange={(e) => {\n                                            let newCollection = [...questionList];\n                                            newCollection[questionIndex].answers[answerIndex].answer = e.target.value;\n                                            setQuestionList(newCollection);\n                                        }} />\n                                        <label>\n                                            <input\n                                                type=\"checkbox\"\n                                                onChange={(e) => {\n                                                    let newCollection = [...questionList];\n                                                    newCollection[questionIndex].answers[answerIndex].isValid = e.target.checked;\n                                                    setQuestionList(newCollection);\n                                                }}\n                                                // name={key}\n                                                checked={answerItem.isValid}\n                                            />\n                                            {`${(answerItem.isValid) ? 'Правильный' : 'Неправильный'}`}\n                                        </label>\n                                    </React.Fragment>\n                                })\n                            }\n                            <form class=\"container-fluid d-flex h-100 justify-content-center \">\n                            <button className='btn btn-outline-danger me-2' type=\"button\" onClick={() => {\n                                let newCollection = [...questionList];\n                                newCollection[questionIndex].answers.pop();\n                                setQuestionList(newCollection);\n                            }}>\n                                Удалить ответ\n                            </button>\n                            <button className='btn btn-primary me-2' type=\"button\" onClick={() => {\n                                let newCollection = [...questionList];\n                                newCollection[questionIndex].answers.push({ answer: '', isValid: false });\n                                setQuestionList(newCollection);\n                            }}>\n                                Добавить ответ\n                            </button>\n                            </form>\n                            <hr />\n                        </React.Fragment>\n                    })\n                }\n                <div className='d-flex flex-row mx-auto'>\n\n                    \n                </div>\n                <nav class=\"navbar fixed-bottom navbar-light bg-light \" >\n                    <form class=\"container-fluid d-flex h-100 justify-content-center \">\n\n                        <button type='button' class=\"btn btn-outline-primary me-2\" onClick={e => {\n                            window.location.assign('http://localhost:3000/second')\n                            }}>\n                            Назад\n                        </button>\n                        <button type=\"button\" class=\"btn btn-outline-danger me-2\" onClick={(e) => {\n                            let newCollection = [...questionList];\n                            newCollection.pop();\n                            setQuestionList(newCollection);\n                            \n                        }}>Удалить последний вопрос</button>    \n                        <button type=\"button\" class=\"btn btn-primary me-2\" onClick={(e) => {\n                            let newCollection = [...questionList];\n                            newCollection.push({ question: '', answers: [{ answer: '123', isValid: false }] })\n                            setQuestionList(newCollection);\n                        }}>Добавить новый вопрос</button> \n                        \n                        <button type='button' className=\"btn btn-success\"onClick={(e) => {\n                           const zip = require('jszip')();\n                           let files = e.target.files;\n                           for (let file = 0; file < e.target.files.length; file++) {\n                             // Zip file with the file name.\n                             zip.file(files[file].name, files[file]);\n                           } \n                           zip.generateAsync({type: \"blob\"}).then(content => {\n                             saveAs(content, \"example.zip\");\n                           });\n                        }}>\n                            Сгенерировать SCORM-пакет\n                        </button>\n                    </form>\n                    <div>\n                    </div>\n                </nav>\n            </form>\n        </div>\n    </div>\n}\n\nexport default GenerateScormPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}