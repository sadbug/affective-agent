{"ast":null,"code":"module.exports = function (\n/*Buffer*/\ninbuf) {\n  var zlib = require(\"zlib\");\n\n  var opts = {\n    chunkSize: (parseInt(inbuf.length / 1024) + 1) * 1024\n  };\n  return {\n    deflate: function () {\n      return zlib.deflateRawSync(inbuf, opts);\n    },\n    deflateAsync: function (\n    /*Function*/\n    callback) {\n      var tmp = zlib.createDeflateRaw(opts),\n          parts = [],\n          total = 0;\n      tmp.on(\"data\", function (data) {\n        parts.push(data);\n        total += data.length;\n      });\n      tmp.on(\"end\", function () {\n        var buf = Buffer.alloc(total),\n            written = 0;\n        buf.fill(0);\n\n        for (var i = 0; i < parts.length; i++) {\n          var part = parts[i];\n          part.copy(buf, written);\n          written += part.length;\n        }\n\n        callback && callback(buf);\n      });\n      tmp.end(inbuf);\n    }\n  };\n};","map":{"version":3,"names":["module","exports","inbuf","zlib","require","opts","chunkSize","parseInt","length","deflate","deflateRawSync","deflateAsync","callback","tmp","createDeflateRaw","parts","total","on","data","push","buf","Buffer","alloc","written","fill","i","part","copy","end"],"sources":["/Users/andrejsmolencev/Desktop/scorm-generator/node_modules/adm-zip/methods/deflater.js"],"sourcesContent":["module.exports = function (/*Buffer*/ inbuf) {\n    var zlib = require(\"zlib\");\n\n    var opts = { chunkSize: (parseInt(inbuf.length / 1024) + 1) * 1024 };\n\n    return {\n        deflate: function () {\n            return zlib.deflateRawSync(inbuf, opts);\n        },\n\n        deflateAsync: function (/*Function*/ callback) {\n            var tmp = zlib.createDeflateRaw(opts),\n                parts = [],\n                total = 0;\n            tmp.on(\"data\", function (data) {\n                parts.push(data);\n                total += data.length;\n            });\n            tmp.on(\"end\", function () {\n                var buf = Buffer.alloc(total),\n                    written = 0;\n                buf.fill(0);\n                for (var i = 0; i < parts.length; i++) {\n                    var part = parts[i];\n                    part.copy(buf, written);\n                    written += part.length;\n                }\n                callback && callback(buf);\n            });\n            tmp.end(inbuf);\n        }\n    };\n};\n"],"mappings":"AAAAA,MAAM,CAACC,OAAP,GAAiB;AAAU;AAAWC,KAArB,EAA4B;EACzC,IAAIC,IAAI,GAAGC,OAAO,CAAC,MAAD,CAAlB;;EAEA,IAAIC,IAAI,GAAG;IAAEC,SAAS,EAAE,CAACC,QAAQ,CAACL,KAAK,CAACM,MAAN,GAAe,IAAhB,CAAR,GAAgC,CAAjC,IAAsC;EAAnD,CAAX;EAEA,OAAO;IACHC,OAAO,EAAE,YAAY;MACjB,OAAON,IAAI,CAACO,cAAL,CAAoBR,KAApB,EAA2BG,IAA3B,CAAP;IACH,CAHE;IAKHM,YAAY,EAAE;IAAU;IAAaC,QAAvB,EAAiC;MAC3C,IAAIC,GAAG,GAAGV,IAAI,CAACW,gBAAL,CAAsBT,IAAtB,CAAV;MAAA,IACIU,KAAK,GAAG,EADZ;MAAA,IAEIC,KAAK,GAAG,CAFZ;MAGAH,GAAG,CAACI,EAAJ,CAAO,MAAP,EAAe,UAAUC,IAAV,EAAgB;QAC3BH,KAAK,CAACI,IAAN,CAAWD,IAAX;QACAF,KAAK,IAAIE,IAAI,CAACV,MAAd;MACH,CAHD;MAIAK,GAAG,CAACI,EAAJ,CAAO,KAAP,EAAc,YAAY;QACtB,IAAIG,GAAG,GAAGC,MAAM,CAACC,KAAP,CAAaN,KAAb,CAAV;QAAA,IACIO,OAAO,GAAG,CADd;QAEAH,GAAG,CAACI,IAAJ,CAAS,CAAT;;QACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGV,KAAK,CAACP,MAA1B,EAAkCiB,CAAC,EAAnC,EAAuC;UACnC,IAAIC,IAAI,GAAGX,KAAK,CAACU,CAAD,CAAhB;UACAC,IAAI,CAACC,IAAL,CAAUP,GAAV,EAAeG,OAAf;UACAA,OAAO,IAAIG,IAAI,CAAClB,MAAhB;QACH;;QACDI,QAAQ,IAAIA,QAAQ,CAACQ,GAAD,CAApB;MACH,CAVD;MAWAP,GAAG,CAACe,GAAJ,CAAQ1B,KAAR;IACH;EAzBE,CAAP;AA2BH,CAhCD"},"metadata":{},"sourceType":"script"}