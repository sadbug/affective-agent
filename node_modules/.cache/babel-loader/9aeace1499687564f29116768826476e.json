{"ast":null,"code":"(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory(require(\"lodash.memoize\"), require(\"lodash.throttle\"));else if (typeof define === 'function' && define.amd) define([\"lodash.memoize\", \"lodash.throttle\"], factory);else if (typeof exports === 'object') exports[\"cytoscapeEdgehandles\"] = factory(require(\"lodash.memoize\"), require(\"lodash.throttle\"));else root[\"cytoscapeEdgehandles\"] = factory(root[\"_\"][\"memoize\"], root[\"_\"][\"throttle\"]);\n})(this, function (__WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_14__) {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId]) {\n          /******/\n          return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = installedModules[moduleId] = {\n          /******/\n          i: moduleId,\n\n          /******/\n          l: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.l = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n\n      /******/\n      // identity function for calling harmony imports with the correct context\n\n      /******/\n\n      __webpack_require__.i = function (value) {\n        return value;\n      };\n      /******/\n\n      /******/\n      // define getter function for harmony exports\n\n      /******/\n\n\n      __webpack_require__.d = function (exports, name, getter) {\n        /******/\n        if (!__webpack_require__.o(exports, name)) {\n          /******/\n          Object.defineProperty(exports, name, {\n            /******/\n            configurable: false,\n\n            /******/\n            enumerable: true,\n\n            /******/\n            get: getter\n            /******/\n\n          });\n          /******/\n        }\n        /******/\n\n      };\n      /******/\n\n      /******/\n      // getDefaultExport function for compatibility with non-harmony modules\n\n      /******/\n\n\n      __webpack_require__.n = function (module) {\n        /******/\n        var getter = module && module.__esModule ?\n        /******/\n        function getDefault() {\n          return module['default'];\n        } :\n        /******/\n        function getModuleExports() {\n          return module;\n        };\n        /******/\n\n        __webpack_require__.d(getter, 'a', getter);\n        /******/\n\n\n        return getter;\n        /******/\n      };\n      /******/\n\n      /******/\n      // Object.prototype.hasOwnProperty.call\n\n      /******/\n\n\n      __webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n\n      __webpack_require__.p = \"\";\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(__webpack_require__.s = 12);\n      /******/\n    }\n    /************************************************************************/\n\n    /******/\n    ([\n    /* 0 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\"; // Simple, internal Object.assign() polyfill for options objects etc.\n\n      module.exports = Object.assign != null ? Object.assign.bind(Object) : function (tgt) {\n        for (var _len = arguments.length, srcs = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          srcs[_key - 1] = arguments[_key];\n        }\n\n        srcs.filter(function (src) {\n          return src != null;\n        }).forEach(function (src) {\n          Object.keys(src).forEach(function (k) {\n            return tgt[k] = src[k];\n          });\n        });\n        return tgt;\n      };\n      /***/\n    },\n    /* 1 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var Edgehandles = __webpack_require__(10);\n\n      var assign = __webpack_require__(0);\n\n      module.exports = function (options) {\n        var cy = this;\n        return new Edgehandles(assign({\n          cy: cy\n        }, options));\n      };\n      /***/\n\n    },\n    /* 2 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      function disableGestures() {\n        this.saveGestureState();\n        this.cy.zoomingEnabled(false).panningEnabled(false).boxSelectionEnabled(false);\n\n        if (this.options.disableBrowserGestures) {\n          var wlOpts = this.windowListenerOptions;\n          window.addEventListener('touchstart', this.preventDefault, wlOpts);\n          window.addEventListener('touchmove', this.preventDefault, wlOpts);\n          window.addEventListener('wheel', this.preventDefault, wlOpts);\n        }\n\n        return this;\n      }\n\n      function resetGestures() {\n        this.cy.zoomingEnabled(this.lastZoomingEnabled).panningEnabled(this.lastPanningEnabled).boxSelectionEnabled(this.lastBoxSelectionEnabled);\n\n        if (this.options.disableBrowserGestures) {\n          var wlOpts = this.windowListenerOptions;\n          window.removeEventListener('touchstart', this.preventDefault, wlOpts);\n          window.removeEventListener('touchmove', this.preventDefault, wlOpts);\n          window.removeEventListener('wheel', this.preventDefault, wlOpts);\n        }\n\n        return this;\n      }\n\n      function saveGestureState() {\n        var cy = this.cy;\n        this.lastPanningEnabled = cy.panningEnabled();\n        this.lastZoomingEnabled = cy.zoomingEnabled();\n        this.lastBoxSelectionEnabled = cy.boxSelectionEnabled();\n        return this;\n      }\n\n      module.exports = {\n        disableGestures: disableGestures,\n        resetGestures: resetGestures,\n        saveGestureState: saveGestureState\n      };\n      /***/\n    },\n    /* 3 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      function addCytoscapeListeners() {\n        var _this = this;\n\n        var cy = this.cy,\n            options = this.options; // grabbing nodes\n\n        this.addListener(cy, 'drag', function () {\n          return _this.grabbingNode = true;\n        });\n        this.addListener(cy, 'free', function () {\n          return _this.grabbingNode = false;\n        }); // start on tapstart handle\n        // start on tapstart node (draw mode)\n        // toggle on source node\n\n        this.addListener(cy, 'tapstart', 'node', function (e) {\n          var node = e.target;\n\n          if (_this.drawMode) {\n            _this.start(node);\n          }\n        }); // update line on drag\n\n        this.addListener(cy, 'tapdrag', function (e) {\n          _this.update(e.position);\n        }); // hover over preview\n\n        this.addListener(cy, 'tapdragover', 'node', function (e) {\n          if (options.snap) {// then ignore events like mouseover\n          } else {\n            _this.preview(e.target);\n          }\n        }); // hover out unpreview\n\n        this.addListener(cy, 'tapdragout', 'node', function (e) {\n          if (options.snap) {// then keep the preview\n          } else {\n            _this.unpreview(e.target);\n          }\n        }); // stop gesture on tapend\n\n        this.addListener(cy, 'tapend', function () {\n          _this.stop();\n        });\n        return this;\n      }\n\n      module.exports = {\n        addCytoscapeListeners: addCytoscapeListeners\n      };\n      /***/\n    },\n    /* 4 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /* eslint-disable no-unused-vars */\n\n      var defaults = {\n        canConnect: function canConnect(sourceNode, targetNode) {\n          // whether an edge can be created between source and target\n          return !sourceNode.same(targetNode); // e.g. disallow loops\n        },\n        edgeParams: function edgeParams(sourceNode, targetNode) {\n          // for edges between the specified source and target\n          // return element object to be passed to cy.add() for edge\n          return {};\n        },\n        hoverDelay: 150,\n        // time spent hovering over a target node before it is considered selected\n        snap: true,\n        // when enabled, the edge can be drawn by just moving close to a target node (can be confusing on compound graphs)\n        snapThreshold: 50,\n        // the target node must be less than or equal to this many pixels away from the cursor/finger\n        snapFrequency: 15,\n        // the number of times per second (Hz) that snap checks done (lower is less expensive)\n        noEdgeEventsInDraw: true,\n        // set events:no to edges during draws, prevents mouseouts on compounds\n        disableBrowserGestures: true // during an edge drawing gesture, disable browser gestures such as two-finger trackpad swipe and pinch-to-zoom\n\n      };\n      /* eslint-enable */\n\n      module.exports = defaults;\n      /***/\n    },\n    /* 5 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      function toggleDrawMode(bool) {\n        var cy = this.cy;\n        this.drawMode = bool != null ? bool : !this.drawMode;\n\n        if (this.drawMode) {\n          this.prevUngrabifyState = cy.autoungrabify();\n          cy.autoungrabify(true);\n          this.emit('drawon');\n        } else {\n          cy.autoungrabify(this.prevUngrabifyState);\n          this.emit('drawoff');\n        }\n\n        return this;\n      }\n\n      function enableDrawMode() {\n        return this.toggleDrawMode(true);\n      }\n\n      function disableDrawMode() {\n        return this.toggleDrawMode(false);\n      }\n\n      module.exports = {\n        toggleDrawMode: toggleDrawMode,\n        enableDrawMode: enableDrawMode,\n        disableDrawMode: disableDrawMode\n      };\n      /***/\n    },\n    /* 6 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      var assign = __webpack_require__(0);\n\n      var isString = function isString(x) {\n        return (typeof x === 'undefined' ? 'undefined' : _typeof(x)) === _typeof('');\n      };\n\n      var isArray = function isArray(x) {\n        return (typeof x === 'undefined' ? 'undefined' : _typeof(x)) === _typeof([]) && x.length != null;\n      };\n\n      function getEleJson(overrides, params, addedClasses) {\n        var json = {}; // basic values\n\n        assign(json, params, overrides); // make sure params can specify data but that overrides take precedence\n\n        assign(json.data, params.data, overrides.data);\n\n        if (isString(params.classes)) {\n          json.classes = params.classes + ' ' + addedClasses;\n        } else if (isArray(params.classes)) {\n          json.classes = params.classes.join(' ') + ' ' + addedClasses;\n        } else {\n          json.classes = addedClasses;\n        }\n\n        return json;\n      }\n\n      function makeEdges() {\n        var preview = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n        var cy = this.cy,\n            options = this.options,\n            presumptiveTargets = this.presumptiveTargets,\n            previewEles = this.previewEles,\n            active = this.active;\n        var source = this.sourceNode;\n        var target = this.targetNode;\n        var classes = preview ? 'eh-preview' : '';\n        var added = cy.collection();\n        var canConnect = this.canConnect(target); // can't make edges outside of regular gesture lifecycle\n\n        if (!active) {\n          return;\n        } // must be able to connect\n\n\n        if (!canConnect) {\n          return;\n        } // detect cancel\n\n\n        if (!target || target.size() === 0) {\n          previewEles.remove();\n          this.emit('cancel', this.mp(), source, presumptiveTargets);\n          return;\n        } // just remove preview class if we already have the edges\n\n\n        if (!preview) {\n          previewEles.removeClass('eh-preview').style('events', '');\n          this.emit('complete', this.mp(), source, target, previewEles);\n          return;\n        }\n\n        var source2target = cy.add(getEleJson({\n          group: 'edges',\n          data: {\n            source: source.id(),\n            target: target.id()\n          }\n        }, this.edgeParams(target), classes));\n        added = added.merge(source2target);\n\n        if (preview) {\n          this.previewEles = added;\n          added.style('events', 'no');\n        } else {\n          added.style('events', '');\n          this.emit('complete', this.mp(), source, target, added);\n        }\n\n        return this;\n      }\n\n      function makePreview() {\n        this.makeEdges(true);\n        return this;\n      }\n\n      function previewShown() {\n        return this.previewEles.nonempty() && this.previewEles.inside();\n      }\n\n      function removePreview() {\n        if (this.previewShown()) {\n          this.previewEles.remove();\n        }\n\n        return this;\n      }\n\n      function updateEdge() {\n        var _this = this;\n\n        var sourceNode = this.sourceNode,\n            ghostNode = this.ghostNode,\n            cy = this.cy,\n            mx = this.mx,\n            my = this.my;\n        var x = mx;\n        var y = my;\n        var ghostEdge = void 0,\n            ghostEles = void 0; // can't draw a line without having the starting node\n\n        if (!sourceNode) {\n          return;\n        }\n\n        if (!ghostNode || ghostNode.length === 0 || ghostNode.removed()) {\n          ghostEles = this.ghostEles = cy.collection();\n          cy.batch(function () {\n            ghostNode = _this.ghostNode = cy.add({\n              group: 'nodes',\n              classes: 'eh-ghost eh-ghost-node',\n              position: {\n                x: 0,\n                y: 0\n              }\n            });\n            ghostNode.style({\n              'background-color': 'blue',\n              'width': 0.0001,\n              'height': 0.0001,\n              'opacity': 0,\n              'events': 'no'\n            });\n            var ghostEdgeParams = {};\n            ghostEdge = cy.add(assign({}, ghostEdgeParams, {\n              group: 'edges',\n              data: assign({}, ghostEdgeParams.data, {\n                source: sourceNode.id(),\n                target: ghostNode.id()\n              }),\n              classes: 'eh-ghost eh-ghost-edge'\n            }));\n            ghostEdge.style({\n              'events': 'no'\n            });\n          });\n          ghostEles.merge(ghostNode).merge(ghostEdge);\n        }\n\n        ghostNode.position({\n          x: x,\n          y: y\n        });\n        return this;\n      }\n\n      module.exports = {\n        makeEdges: makeEdges,\n        makePreview: makePreview,\n        removePreview: removePreview,\n        previewShown: previewShown,\n        updateEdge: updateEdge\n      };\n      /***/\n    },\n    /* 7 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      function disableEdgeEvents() {\n        if (this.options.noEdgeEventsInDraw) {\n          this.cy.edges().style('events', 'no');\n        }\n\n        return this;\n      }\n\n      function enableEdgeEvents() {\n        if (this.options.noEdgeEventsInDraw) {\n          this.cy.edges().style('events', '');\n        }\n\n        return this;\n      }\n\n      module.exports = {\n        disableEdgeEvents: disableEdgeEvents,\n        enableEdgeEvents: enableEdgeEvents\n      };\n      /***/\n    },\n    /* 8 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      function enable() {\n        this.enabled = true;\n        this.emit('enable');\n        return this;\n      }\n\n      function disable() {\n        this.enabled = false;\n        this.emit('disable');\n        return this;\n      }\n\n      module.exports = {\n        enable: enable,\n        disable: disable\n      };\n      /***/\n    },\n    /* 9 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var memoize = __webpack_require__(13);\n\n      var sqrt2 = Math.sqrt(2);\n\n      function canStartOn(node) {\n        var previewEles = this.previewEles,\n            ghostEles = this.ghostEles;\n\n        var isPreview = function isPreview(el) {\n          return previewEles.anySame(el);\n        };\n\n        var isGhost = function isGhost(el) {\n          return ghostEles.anySame(el);\n        };\n\n        var isTemp = function isTemp(el) {\n          return isPreview(el) || isGhost(el);\n        };\n\n        var enabled = this.enabled,\n            active = this.active,\n            grabbingNode = this.grabbingNode;\n        return enabled && !active && !grabbingNode && node != null && node.nonempty() && !isTemp(node);\n      }\n\n      function canStartDrawModeOn(node) {\n        return this.canStartOn(node) && this.drawMode;\n      }\n\n      function canStartNonDrawModeOn(node) {\n        return this.canStartOn(node) && !this.drawMode;\n      }\n\n      function start(node) {\n        var _this = this;\n\n        if (!this.canStartOn(node)) {\n          return;\n        }\n\n        this.active = true;\n        this.sourceNode = node;\n        this.sourceNode.addClass('eh-source');\n        this.disableGestures();\n        this.disableEdgeEvents();\n\n        var getId = function getId(n) {\n          return n.id();\n        };\n\n        this.canConnect = memoize(function (target) {\n          return _this.options.canConnect(_this.sourceNode, target);\n        }, getId);\n        this.edgeParams = memoize(function (target) {\n          return _this.options.edgeParams(_this.sourceNode, target);\n        }, getId);\n        this.emit('start', this.hp(), node);\n      }\n\n      function update(pos) {\n        if (!this.active) {\n          return;\n        }\n\n        var p = pos;\n        this.mx = p.x;\n        this.my = p.y;\n        this.updateEdge();\n        this.throttledSnap();\n        return this;\n      }\n\n      function snap() {\n        if (!this.active || !this.options.snap) {\n          return false;\n        }\n\n        var cy = this.cy;\n        var tgt = this.targetNode;\n        var threshold = this.options.snapThreshold;\n        var mousePos = this.mp();\n        var previewEles = this.previewEles,\n            ghostNode = this.ghostNode;\n\n        var radius = function radius(n) {\n          return sqrt2 * Math.max(n.outerWidth(), n.outerHeight()) / 2;\n        }; // worst-case enclosure of bb by circle\n\n\n        var sqDist = function sqDist(x1, y1, x2, y2) {\n          var dx = x2 - x1;\n          var dy = y2 - y1;\n          return dx * dx + dy * dy;\n        };\n\n        var sqDistByPt = function sqDistByPt(p1, p2) {\n          return sqDist(p1.x, p1.y, p2.x, p2.y);\n        };\n\n        var nodeSqDist = function nodeSqDist(n) {\n          return sqDistByPt(n.position(), mousePos);\n        };\n\n        var sqThreshold = function sqThreshold(n) {\n          var r = radius(n);\n          var t = r + threshold;\n          return t * t;\n        };\n\n        var isWithinThreshold = function isWithinThreshold(n) {\n          return nodeSqDist(n) <= sqThreshold(n);\n        };\n\n        var bbSqDist = function bbSqDist(n) {\n          var p = n.position();\n          var halfW = n.outerWidth() / 2;\n          var halfH = n.outerHeight() / 2; // node and mouse positions, line is formed from node to mouse\n\n          var nx = p.x;\n          var ny = p.y;\n          var mx = mousePos.x;\n          var my = mousePos.y; // bounding box\n\n          var x1 = nx - halfW;\n          var x2 = nx + halfW;\n          var y1 = ny - halfH;\n          var y2 = ny + halfH;\n          var insideXBounds = x1 <= mx && mx <= x2;\n          var insideYBounds = y1 <= my && my <= y2;\n\n          if (insideXBounds && insideYBounds) {\n            // inside box\n            return 0;\n          } else if (insideXBounds) {\n            // perpendicular distance to box, top or bottom\n            var dy1 = my - y1;\n            var dy2 = my - y2;\n            return Math.min(dy1 * dy1, dy2 * dy2);\n          } else if (insideYBounds) {\n            // perpendicular distance to box, left or right\n            var dx1 = mx - x1;\n            var dx2 = mx - x2;\n            return Math.min(dx1 * dx1, dx2 * dx2);\n          } else if (mx < x1 && my < y1) {\n            // top-left corner distance\n            return sqDist(mx, my, x1, y1);\n          } else if (mx > x2 && my < y1) {\n            // top-right corner distance\n            return sqDist(mx, my, x2, y1);\n          } else if (mx < x1 && my > y2) {\n            // bottom-left corner distance\n            return sqDist(mx, my, x1, y2);\n          } else {\n            // bottom-right corner distance\n            return sqDist(mx, my, x2, y2);\n          }\n        };\n\n        var cmpBbSqDist = function cmpBbSqDist(n1, n2) {\n          return bbSqDist(n1) - bbSqDist(n2);\n        };\n\n        var cmp = cmpBbSqDist;\n        var allowHoverDelay = false;\n\n        var mouseIsInside = function mouseIsInside(n) {\n          var mp = mousePos;\n          var w = n.outerWidth();\n          var halfW = w / 2;\n          var h = n.outerHeight();\n          var halfH = h / 2;\n          var p = n.position();\n          var x1 = p.x - halfW;\n          var x2 = p.x + halfW;\n          var y1 = p.y - halfH;\n          var y2 = p.y + halfH;\n          return x1 <= mp.x && mp.x <= x2 && y1 <= mp.y && mp.y <= y2;\n        };\n\n        var isEhEle = function isEhEle(n) {\n          return n.same(previewEles) || n.same(ghostNode);\n        };\n\n        var nodesByDist = cy.nodes(function (n) {\n          return !isEhEle(n) && isWithinThreshold(n);\n        }).sort(cmp);\n        var snapped = false;\n\n        if (tgt.nonempty() && !isWithinThreshold(tgt)) {\n          this.unpreview(tgt);\n        }\n\n        for (var i = 0; i < nodesByDist.length; i++) {\n          var n = nodesByDist[i]; // skip a parent node when the mouse is inside it\n\n          if (n.isParent() && mouseIsInside(n)) {\n            continue;\n          } // skip a child node when the mouse is not inside the parent\n\n\n          if (n.isChild() && !mouseIsInside(n.parent())) {\n            continue;\n          }\n\n          if (n.same(tgt) || this.preview(n, allowHoverDelay)) {\n            snapped = true;\n            break;\n          }\n        }\n\n        return snapped;\n      }\n\n      function preview(target) {\n        var _this2 = this;\n\n        var allowHoverDelay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n        var options = this.options,\n            sourceNode = this.sourceNode,\n            ghostNode = this.ghostNode,\n            ghostEles = this.ghostEles,\n            presumptiveTargets = this.presumptiveTargets,\n            previewEles = this.previewEles,\n            active = this.active;\n        var source = sourceNode;\n        var isGhost = target.same(ghostNode);\n        var noEdge = !this.canConnect(target);\n        var isExistingTgt = target.same(this.targetNode);\n\n        if (!active || isGhost || noEdge || isExistingTgt // || (target.isParent())\n        ) {\n          return false;\n        }\n\n        if (this.targetNode.nonempty()) {\n          this.unpreview(this.targetNode);\n        }\n\n        clearTimeout(this.previewTimeout);\n\n        var applyPreview = function applyPreview() {\n          _this2.targetNode = target;\n          presumptiveTargets.merge(target);\n          target.addClass('eh-presumptive-target');\n          target.addClass('eh-target');\n\n          _this2.emit('hoverover', _this2.mp(), source, target);\n\n          target.addClass('eh-preview');\n          ghostEles.addClass('eh-preview-active');\n          sourceNode.addClass('eh-preview-active');\n          target.addClass('eh-preview-active');\n\n          _this2.makePreview();\n\n          _this2.emit('previewon', _this2.mp(), source, target, previewEles);\n        };\n\n        if (allowHoverDelay && options.hoverDelay > 0) {\n          this.previewTimeout = setTimeout(applyPreview, options.hoverDelay);\n        } else {\n          applyPreview();\n        }\n\n        return true;\n      }\n\n      function unpreview(target) {\n        if (!this.active) {\n          return;\n        }\n\n        var previewTimeout = this.previewTimeout,\n            sourceNode = this.sourceNode,\n            previewEles = this.previewEles,\n            ghostEles = this.ghostEles,\n            cy = this.cy;\n        clearTimeout(previewTimeout);\n        this.previewTimeout = null;\n        var source = sourceNode;\n        target.removeClass('eh-preview eh-target eh-presumptive-target eh-preview-active');\n        ghostEles.removeClass('eh-preview-active');\n        sourceNode.removeClass('eh-preview-active');\n        this.targetNode = cy.collection();\n        this.removePreview(source, target);\n        this.emit('hoverout', this.mp(), source, target);\n        this.emit('previewoff', this.mp(), source, target, previewEles);\n        return this;\n      }\n\n      function stop() {\n        if (!this.active) {\n          return;\n        }\n\n        var sourceNode = this.sourceNode,\n            targetNode = this.targetNode,\n            ghostEles = this.ghostEles,\n            presumptiveTargets = this.presumptiveTargets;\n        clearTimeout(this.previewTimeout);\n        sourceNode.removeClass('eh-source eh-preview-active');\n        targetNode.removeClass('eh-target eh-preview eh-hover eh-preview-active');\n        presumptiveTargets.removeClass('eh-presumptive-target');\n        this.makeEdges();\n        ghostEles.remove();\n        this.clearCollections();\n        this.resetGestures();\n        this.enableEdgeEvents();\n        this.active = false;\n        this.emit('stop', this.mp(), sourceNode);\n        return this;\n      }\n\n      module.exports = {\n        start: start,\n        update: update,\n        preview: preview,\n        unpreview: unpreview,\n        stop: stop,\n        snap: snap,\n        canStartOn: canStartOn,\n        canStartDrawModeOn: canStartDrawModeOn,\n        canStartNonDrawModeOn: canStartNonDrawModeOn\n      };\n      /***/\n    },\n    /* 10 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var defaults = __webpack_require__(4);\n\n      var assign = __webpack_require__(0);\n\n      var throttle = __webpack_require__(14);\n\n      var cyGesturesToggle = __webpack_require__(2);\n\n      var cyListeners = __webpack_require__(3);\n\n      var drawMode = __webpack_require__(5);\n\n      var drawing = __webpack_require__(6);\n\n      var enabling = __webpack_require__(8);\n\n      var gestureLifecycle = __webpack_require__(9);\n\n      var listeners = __webpack_require__(11);\n\n      var edgeEvents = __webpack_require__(7);\n\n      function Edgehandles(options) {\n        var cy = options.cy;\n        this.cy = cy;\n        this.listeners = []; // edgehandles gesture state\n\n        this.enabled = true;\n        this.drawMode = false;\n        this.active = false;\n        this.grabbingNode = false; // edgehandles elements\n\n        this.clearCollections(); // mouse position\n\n        this.mx = 0;\n        this.my = 0;\n        this.options = assign({}, defaults, options);\n        this.saveGestureState();\n        this.addListeners();\n        this.throttledSnap = throttle(this.snap.bind(this), 1000 / options.snapFrequency);\n\n        this.preventDefault = function (e) {\n          return e.preventDefault();\n        }; // disabled until start()\n\n\n        this.canConnect = function () {\n          return false;\n        };\n\n        var supportsPassive = false;\n\n        try {\n          var opts = Object.defineProperty({}, 'passive', {\n            get: function get() {\n              supportsPassive = true;\n            }\n          });\n          window.addEventListener('test', null, opts);\n        } catch (err) {// swallow\n        }\n\n        if (supportsPassive) {\n          this.windowListenerOptions = {\n            capture: true,\n            passive: false\n          };\n        } else {\n          this.windowListenerOptions = true;\n        }\n      }\n\n      var proto = Edgehandles.prototype = {};\n\n      var extend = function extend(obj) {\n        return assign(proto, obj);\n      };\n\n      proto.destroy = function () {\n        this.removeListeners();\n      };\n\n      proto.setOptions = function (options) {\n        assign(this.options, options);\n      };\n\n      proto.mp = function () {\n        return {\n          x: this.mx,\n          y: this.my\n        };\n      };\n\n      proto.hp = function () {\n        return {\n          x: this.hx,\n          y: this.hy\n        };\n      };\n\n      proto.clearCollections = function () {\n        var cy = this.cy;\n        this.previewEles = cy.collection();\n        this.ghostEles = cy.collection();\n        this.ghostNode = cy.collection();\n        this.sourceNode = cy.collection();\n        this.targetNode = cy.collection();\n        this.presumptiveTargets = cy.collection();\n      };\n\n      [cyGesturesToggle, cyListeners, drawMode, drawing, enabling, gestureLifecycle, listeners, edgeEvents].forEach(extend);\n      module.exports = Edgehandles;\n      /***/\n    },\n    /* 11 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      function addListeners() {\n        var _this = this;\n\n        this.addCytoscapeListeners();\n        this.addListener(this.cy, 'destroy', function () {\n          return _this.destroy();\n        });\n        return this;\n      }\n\n      function removeListeners() {\n        for (var i = this.listeners.length - 1; i >= 0; i--) {\n          var l = this.listeners[i];\n          this.removeListener(l.target, l.event, l.selector, l.callback, l.options);\n        }\n\n        return this;\n      }\n\n      function getListener(target, event, selector, callback, options) {\n        if ((typeof selector === 'undefined' ? 'undefined' : _typeof(selector)) !== _typeof('')) {\n          callback = selector;\n          options = callback;\n          selector = null;\n        }\n\n        if (options == null) {\n          options = false;\n        }\n\n        return {\n          target: target,\n          event: event,\n          selector: selector,\n          callback: callback,\n          options: options\n        };\n      }\n\n      function isDom(target) {\n        return target instanceof Element;\n      }\n\n      function addListener(target, event, selector, callback, options) {\n        var l = getListener(target, event, selector, callback, options);\n        this.listeners.push(l);\n\n        if (isDom(l.target)) {\n          l.target.addEventListener(l.event, l.callback, l.options);\n        } else {\n          if (l.selector) {\n            l.target.addListener(l.event, l.selector, l.callback, l.options);\n          } else {\n            l.target.addListener(l.event, l.callback, l.options);\n          }\n        }\n\n        return this;\n      }\n\n      function removeListener(target, event, selector, callback, options) {\n        var l = getListener(target, event, selector, callback, options);\n\n        for (var i = this.listeners.length - 1; i >= 0; i--) {\n          var l2 = this.listeners[i];\n\n          if (l.target === l2.target && l.event === l2.event && (l.selector == null || l.selector === l2.selector) && (l.callback == null || l.callback === l2.callback)) {\n            this.listeners.splice(i, 1);\n\n            if (isDom(l.target)) {\n              l.target.removeEventListener(l.event, l.callback, l.options);\n            } else {\n              if (l.selector) {\n                l.target.removeListener(l.event, l.selector, l.callback, l.options);\n              } else {\n                l.target.removeListener(l.event, l.callback, l.options);\n              }\n            }\n\n            break;\n          }\n        }\n\n        return this;\n      }\n\n      function emit(type, position) {\n        var cy = this.cy;\n\n        for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n          args[_key - 2] = arguments[_key];\n        }\n\n        cy.emit({\n          type: 'eh' + type,\n          position: position\n        }, args);\n        return this;\n      }\n\n      module.exports = {\n        addListener: addListener,\n        addListeners: addListeners,\n        removeListener: removeListener,\n        removeListeners: removeListeners,\n        emit: emit\n      };\n      /***/\n    },\n    /* 12 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var impl = __webpack_require__(1); // registers the extension on a cytoscape lib ref\n\n\n      var register = function register(cytoscape) {\n        if (!cytoscape) {\n          return;\n        } // can't register if cytoscape unspecified\n\n\n        cytoscape('core', 'edgehandles', impl); // register with cytoscape.js\n      };\n\n      if (typeof cytoscape !== 'undefined') {\n        // expose to global cytoscape (i.e. window.cytoscape)\n        register(cytoscape); // eslint-disable-line no-undef\n      }\n\n      module.exports = register;\n      /***/\n    },\n    /* 13 */\n\n    /***/\n    function (module, exports) {\n      module.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n      /***/\n    },\n    /* 14 */\n\n    /***/\n    function (module, exports) {\n      module.exports = __WEBPACK_EXTERNAL_MODULE_14__;\n      /***/\n    }\n    /******/\n    ])\n  );\n});","map":{"version":3,"names":["webpackUniversalModuleDefinition","root","factory","exports","module","require","define","amd","__WEBPACK_EXTERNAL_MODULE_13__","__WEBPACK_EXTERNAL_MODULE_14__","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","assign","bind","tgt","_len","arguments","length","srcs","Array","_key","filter","src","forEach","keys","k","Edgehandles","options","cy","disableGestures","saveGestureState","zoomingEnabled","panningEnabled","boxSelectionEnabled","disableBrowserGestures","wlOpts","windowListenerOptions","window","addEventListener","preventDefault","resetGestures","lastZoomingEnabled","lastPanningEnabled","lastBoxSelectionEnabled","removeEventListener","addCytoscapeListeners","_this","addListener","grabbingNode","e","node","target","drawMode","start","update","position","snap","preview","unpreview","stop","defaults","canConnect","sourceNode","targetNode","same","edgeParams","hoverDelay","snapThreshold","snapFrequency","noEdgeEventsInDraw","toggleDrawMode","bool","prevUngrabifyState","autoungrabify","emit","enableDrawMode","disableDrawMode","_typeof","Symbol","iterator","obj","constructor","isString","x","isArray","getEleJson","overrides","params","addedClasses","json","data","classes","join","makeEdges","undefined","presumptiveTargets","previewEles","active","source","added","collection","size","remove","mp","removeClass","style","source2target","add","group","id","merge","makePreview","previewShown","nonempty","inside","removePreview","updateEdge","ghostNode","mx","my","y","ghostEdge","ghostEles","removed","batch","ghostEdgeParams","disableEdgeEvents","edges","enableEdgeEvents","enable","enabled","disable","memoize","sqrt2","Math","sqrt","canStartOn","isPreview","el","anySame","isGhost","isTemp","canStartDrawModeOn","canStartNonDrawModeOn","addClass","getId","hp","pos","throttledSnap","threshold","mousePos","radius","max","outerWidth","outerHeight","sqDist","x1","y1","x2","y2","dx","dy","sqDistByPt","p1","p2","nodeSqDist","sqThreshold","r","t","isWithinThreshold","bbSqDist","halfW","halfH","nx","ny","insideXBounds","insideYBounds","dy1","dy2","min","dx1","dx2","cmpBbSqDist","n1","n2","cmp","allowHoverDelay","mouseIsInside","w","h","isEhEle","nodesByDist","nodes","sort","snapped","isParent","isChild","parent","_this2","noEdge","isExistingTgt","clearTimeout","previewTimeout","applyPreview","setTimeout","clearCollections","throttle","cyGesturesToggle","cyListeners","drawing","enabling","gestureLifecycle","listeners","edgeEvents","addListeners","supportsPassive","opts","err","capture","passive","proto","extend","destroy","removeListeners","setOptions","hx","hy","removeListener","event","selector","callback","getListener","isDom","Element","push","l2","splice","type","args","impl","register","cytoscape"],"sources":["/Users/andrejsmolencev/Desktop/scorm-generator/node_modules/cytoscape-edgehandles/cytoscape-edgehandles.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"lodash.memoize\"), require(\"lodash.throttle\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"lodash.memoize\", \"lodash.throttle\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cytoscapeEdgehandles\"] = factory(require(\"lodash.memoize\"), require(\"lodash.throttle\"));\n\telse\n\t\troot[\"cytoscapeEdgehandles\"] = factory(root[\"_\"][\"memoize\"], root[\"_\"][\"throttle\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_14__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 12);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n// Simple, internal Object.assign() polyfill for options objects etc.\n\nmodule.exports = Object.assign != null ? Object.assign.bind(Object) : function (tgt) {\n  for (var _len = arguments.length, srcs = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    srcs[_key - 1] = arguments[_key];\n  }\n\n  srcs.filter(function (src) {\n    return src != null;\n  }).forEach(function (src) {\n    Object.keys(src).forEach(function (k) {\n      return tgt[k] = src[k];\n    });\n  });\n\n  return tgt;\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Edgehandles = __webpack_require__(10);\nvar assign = __webpack_require__(0);\n\nmodule.exports = function (options) {\n  var cy = this;\n\n  return new Edgehandles(assign({ cy: cy }, options));\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction disableGestures() {\n  this.saveGestureState();\n\n  this.cy.zoomingEnabled(false).panningEnabled(false).boxSelectionEnabled(false);\n\n  if (this.options.disableBrowserGestures) {\n    var wlOpts = this.windowListenerOptions;\n\n    window.addEventListener('touchstart', this.preventDefault, wlOpts);\n    window.addEventListener('touchmove', this.preventDefault, wlOpts);\n    window.addEventListener('wheel', this.preventDefault, wlOpts);\n  }\n\n  return this;\n}\n\nfunction resetGestures() {\n  this.cy.zoomingEnabled(this.lastZoomingEnabled).panningEnabled(this.lastPanningEnabled).boxSelectionEnabled(this.lastBoxSelectionEnabled);\n\n  if (this.options.disableBrowserGestures) {\n    var wlOpts = this.windowListenerOptions;\n\n    window.removeEventListener('touchstart', this.preventDefault, wlOpts);\n    window.removeEventListener('touchmove', this.preventDefault, wlOpts);\n    window.removeEventListener('wheel', this.preventDefault, wlOpts);\n  }\n\n  return this;\n}\n\nfunction saveGestureState() {\n  var cy = this.cy;\n\n\n  this.lastPanningEnabled = cy.panningEnabled();\n  this.lastZoomingEnabled = cy.zoomingEnabled();\n  this.lastBoxSelectionEnabled = cy.boxSelectionEnabled();\n\n  return this;\n}\n\nmodule.exports = { disableGestures: disableGestures, resetGestures: resetGestures, saveGestureState: saveGestureState };\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction addCytoscapeListeners() {\n  var _this = this;\n\n  var cy = this.cy,\n      options = this.options;\n\n  // grabbing nodes\n\n  this.addListener(cy, 'drag', function () {\n    return _this.grabbingNode = true;\n  });\n  this.addListener(cy, 'free', function () {\n    return _this.grabbingNode = false;\n  });\n\n  // start on tapstart handle\n  // start on tapstart node (draw mode)\n  // toggle on source node\n  this.addListener(cy, 'tapstart', 'node', function (e) {\n    var node = e.target;\n\n    if (_this.drawMode) {\n      _this.start(node);\n    }\n  });\n\n  // update line on drag\n  this.addListener(cy, 'tapdrag', function (e) {\n    _this.update(e.position);\n  });\n\n  // hover over preview\n  this.addListener(cy, 'tapdragover', 'node', function (e) {\n    if (options.snap) {\n      // then ignore events like mouseover\n    } else {\n      _this.preview(e.target);\n    }\n  });\n\n  // hover out unpreview\n  this.addListener(cy, 'tapdragout', 'node', function (e) {\n    if (options.snap) {\n      // then keep the preview\n    } else {\n      _this.unpreview(e.target);\n    }\n  });\n\n  // stop gesture on tapend\n  this.addListener(cy, 'tapend', function () {\n    _this.stop();\n  });\n\n  return this;\n}\n\nmodule.exports = { addCytoscapeListeners: addCytoscapeListeners };\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/* eslint-disable no-unused-vars */\nvar defaults = {\n  canConnect: function canConnect(sourceNode, targetNode) {\n    // whether an edge can be created between source and target\n    return !sourceNode.same(targetNode); // e.g. disallow loops\n  },\n  edgeParams: function edgeParams(sourceNode, targetNode) {\n    // for edges between the specified source and target\n    // return element object to be passed to cy.add() for edge\n    return {};\n  },\n  hoverDelay: 150, // time spent hovering over a target node before it is considered selected\n  snap: true, // when enabled, the edge can be drawn by just moving close to a target node (can be confusing on compound graphs)\n  snapThreshold: 50, // the target node must be less than or equal to this many pixels away from the cursor/finger\n  snapFrequency: 15, // the number of times per second (Hz) that snap checks done (lower is less expensive)\n  noEdgeEventsInDraw: true, // set events:no to edges during draws, prevents mouseouts on compounds\n  disableBrowserGestures: true // during an edge drawing gesture, disable browser gestures such as two-finger trackpad swipe and pinch-to-zoom\n};\n/* eslint-enable */\n\nmodule.exports = defaults;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction toggleDrawMode(bool) {\n  var cy = this.cy;\n\n\n  this.drawMode = bool != null ? bool : !this.drawMode;\n\n  if (this.drawMode) {\n    this.prevUngrabifyState = cy.autoungrabify();\n\n    cy.autoungrabify(true);\n\n    this.emit('drawon');\n  } else {\n    cy.autoungrabify(this.prevUngrabifyState);\n\n    this.emit('drawoff');\n  }\n\n  return this;\n}\n\nfunction enableDrawMode() {\n  return this.toggleDrawMode(true);\n}\n\nfunction disableDrawMode() {\n  return this.toggleDrawMode(false);\n}\n\nmodule.exports = { toggleDrawMode: toggleDrawMode, enableDrawMode: enableDrawMode, disableDrawMode: disableDrawMode };\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar assign = __webpack_require__(0);\nvar isString = function isString(x) {\n  return (typeof x === 'undefined' ? 'undefined' : _typeof(x)) === _typeof('');\n};\nvar isArray = function isArray(x) {\n  return (typeof x === 'undefined' ? 'undefined' : _typeof(x)) === _typeof([]) && x.length != null;\n};\n\nfunction getEleJson(overrides, params, addedClasses) {\n  var json = {};\n\n  // basic values\n  assign(json, params, overrides);\n\n  // make sure params can specify data but that overrides take precedence\n  assign(json.data, params.data, overrides.data);\n\n  if (isString(params.classes)) {\n    json.classes = params.classes + ' ' + addedClasses;\n  } else if (isArray(params.classes)) {\n    json.classes = params.classes.join(' ') + ' ' + addedClasses;\n  } else {\n    json.classes = addedClasses;\n  }\n\n  return json;\n}\n\nfunction makeEdges() {\n  var preview = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var cy = this.cy,\n      options = this.options,\n      presumptiveTargets = this.presumptiveTargets,\n      previewEles = this.previewEles,\n      active = this.active;\n\n\n  var source = this.sourceNode;\n  var target = this.targetNode;\n  var classes = preview ? 'eh-preview' : '';\n  var added = cy.collection();\n  var canConnect = this.canConnect(target);\n\n  // can't make edges outside of regular gesture lifecycle\n  if (!active) {\n    return;\n  }\n\n  // must be able to connect\n  if (!canConnect) {\n    return;\n  }\n\n  // detect cancel\n  if (!target || target.size() === 0) {\n    previewEles.remove();\n\n    this.emit('cancel', this.mp(), source, presumptiveTargets);\n\n    return;\n  }\n\n  // just remove preview class if we already have the edges\n  if (!preview) {\n    previewEles.removeClass('eh-preview').style('events', '');\n\n    this.emit('complete', this.mp(), source, target, previewEles);\n\n    return;\n  }\n\n  var source2target = cy.add(getEleJson({\n    group: 'edges',\n    data: {\n      source: source.id(),\n      target: target.id()\n    }\n  }, this.edgeParams(target), classes));\n\n  added = added.merge(source2target);\n\n  if (preview) {\n    this.previewEles = added;\n\n    added.style('events', 'no');\n  } else {\n    added.style('events', '');\n\n    this.emit('complete', this.mp(), source, target, added);\n  }\n\n  return this;\n}\n\nfunction makePreview() {\n  this.makeEdges(true);\n\n  return this;\n}\n\nfunction previewShown() {\n  return this.previewEles.nonempty() && this.previewEles.inside();\n}\n\nfunction removePreview() {\n  if (this.previewShown()) {\n    this.previewEles.remove();\n  }\n\n  return this;\n}\n\nfunction updateEdge() {\n  var _this = this;\n\n  var sourceNode = this.sourceNode,\n      ghostNode = this.ghostNode,\n      cy = this.cy,\n      mx = this.mx,\n      my = this.my;\n\n  var x = mx;\n  var y = my;\n  var ghostEdge = void 0,\n      ghostEles = void 0;\n\n  // can't draw a line without having the starting node\n  if (!sourceNode) {\n    return;\n  }\n\n  if (!ghostNode || ghostNode.length === 0 || ghostNode.removed()) {\n    ghostEles = this.ghostEles = cy.collection();\n\n    cy.batch(function () {\n      ghostNode = _this.ghostNode = cy.add({\n        group: 'nodes',\n        classes: 'eh-ghost eh-ghost-node',\n        position: {\n          x: 0,\n          y: 0\n        }\n      });\n\n      ghostNode.style({\n        'background-color': 'blue',\n        'width': 0.0001,\n        'height': 0.0001,\n        'opacity': 0,\n        'events': 'no'\n      });\n\n      var ghostEdgeParams = {};\n\n      ghostEdge = cy.add(assign({}, ghostEdgeParams, {\n        group: 'edges',\n        data: assign({}, ghostEdgeParams.data, {\n          source: sourceNode.id(),\n          target: ghostNode.id()\n        }),\n        classes: 'eh-ghost eh-ghost-edge'\n      }));\n\n      ghostEdge.style({\n        'events': 'no'\n      });\n    });\n\n    ghostEles.merge(ghostNode).merge(ghostEdge);\n  }\n\n  ghostNode.position({ x: x, y: y });\n\n  return this;\n}\n\nmodule.exports = {\n  makeEdges: makeEdges, makePreview: makePreview, removePreview: removePreview, previewShown: previewShown,\n  updateEdge: updateEdge\n};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction disableEdgeEvents() {\n  if (this.options.noEdgeEventsInDraw) {\n    this.cy.edges().style('events', 'no');\n  }\n\n  return this;\n}\n\nfunction enableEdgeEvents() {\n  if (this.options.noEdgeEventsInDraw) {\n    this.cy.edges().style('events', '');\n  }\n\n  return this;\n}\n\nmodule.exports = { disableEdgeEvents: disableEdgeEvents, enableEdgeEvents: enableEdgeEvents };\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction enable() {\n  this.enabled = true;\n\n  this.emit('enable');\n\n  return this;\n}\n\nfunction disable() {\n  this.enabled = false;\n\n  this.emit('disable');\n\n  return this;\n}\n\nmodule.exports = { enable: enable, disable: disable };\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar memoize = __webpack_require__(13);\nvar sqrt2 = Math.sqrt(2);\n\nfunction canStartOn(node) {\n  var previewEles = this.previewEles,\n      ghostEles = this.ghostEles;\n\n  var isPreview = function isPreview(el) {\n    return previewEles.anySame(el);\n  };\n  var isGhost = function isGhost(el) {\n    return ghostEles.anySame(el);\n  };\n  var isTemp = function isTemp(el) {\n    return isPreview(el) || isGhost(el);\n  };\n\n  var enabled = this.enabled,\n      active = this.active,\n      grabbingNode = this.grabbingNode;\n\n\n  return enabled && !active && !grabbingNode && node != null && node.nonempty() && !isTemp(node);\n}\n\nfunction canStartDrawModeOn(node) {\n  return this.canStartOn(node) && this.drawMode;\n}\n\nfunction canStartNonDrawModeOn(node) {\n  return this.canStartOn(node) && !this.drawMode;\n}\n\nfunction start(node) {\n  var _this = this;\n\n  if (!this.canStartOn(node)) {\n    return;\n  }\n\n  this.active = true;\n\n  this.sourceNode = node;\n  this.sourceNode.addClass('eh-source');\n\n  this.disableGestures();\n  this.disableEdgeEvents();\n\n  var getId = function getId(n) {\n    return n.id();\n  };\n\n  this.canConnect = memoize(function (target) {\n    return _this.options.canConnect(_this.sourceNode, target);\n  }, getId);\n\n  this.edgeParams = memoize(function (target) {\n    return _this.options.edgeParams(_this.sourceNode, target);\n  }, getId);\n\n  this.emit('start', this.hp(), node);\n}\n\nfunction update(pos) {\n  if (!this.active) {\n    return;\n  }\n\n  var p = pos;\n\n  this.mx = p.x;\n  this.my = p.y;\n\n  this.updateEdge();\n  this.throttledSnap();\n\n  return this;\n}\n\nfunction snap() {\n  if (!this.active || !this.options.snap) {\n    return false;\n  }\n\n  var cy = this.cy;\n  var tgt = this.targetNode;\n  var threshold = this.options.snapThreshold;\n  var mousePos = this.mp();\n  var previewEles = this.previewEles,\n      ghostNode = this.ghostNode;\n\n\n  var radius = function radius(n) {\n    return sqrt2 * Math.max(n.outerWidth(), n.outerHeight()) / 2;\n  }; // worst-case enclosure of bb by circle\n  var sqDist = function sqDist(x1, y1, x2, y2) {\n    var dx = x2 - x1;var dy = y2 - y1;return dx * dx + dy * dy;\n  };\n  var sqDistByPt = function sqDistByPt(p1, p2) {\n    return sqDist(p1.x, p1.y, p2.x, p2.y);\n  };\n  var nodeSqDist = function nodeSqDist(n) {\n    return sqDistByPt(n.position(), mousePos);\n  };\n\n  var sqThreshold = function sqThreshold(n) {\n    var r = radius(n);var t = r + threshold;return t * t;\n  };\n  var isWithinThreshold = function isWithinThreshold(n) {\n    return nodeSqDist(n) <= sqThreshold(n);\n  };\n\n  var bbSqDist = function bbSqDist(n) {\n    var p = n.position();\n    var halfW = n.outerWidth() / 2;\n    var halfH = n.outerHeight() / 2;\n\n    // node and mouse positions, line is formed from node to mouse\n    var nx = p.x;\n    var ny = p.y;\n    var mx = mousePos.x;\n    var my = mousePos.y;\n\n    // bounding box\n    var x1 = nx - halfW;\n    var x2 = nx + halfW;\n    var y1 = ny - halfH;\n    var y2 = ny + halfH;\n\n    var insideXBounds = x1 <= mx && mx <= x2;\n    var insideYBounds = y1 <= my && my <= y2;\n\n    if (insideXBounds && insideYBounds) {\n      // inside box\n      return 0;\n    } else if (insideXBounds) {\n      // perpendicular distance to box, top or bottom\n      var dy1 = my - y1;\n      var dy2 = my - y2;\n\n      return Math.min(dy1 * dy1, dy2 * dy2);\n    } else if (insideYBounds) {\n      // perpendicular distance to box, left or right\n      var dx1 = mx - x1;\n      var dx2 = mx - x2;\n\n      return Math.min(dx1 * dx1, dx2 * dx2);\n    } else if (mx < x1 && my < y1) {\n      // top-left corner distance\n      return sqDist(mx, my, x1, y1);\n    } else if (mx > x2 && my < y1) {\n      // top-right corner distance\n      return sqDist(mx, my, x2, y1);\n    } else if (mx < x1 && my > y2) {\n      // bottom-left corner distance\n      return sqDist(mx, my, x1, y2);\n    } else {\n      // bottom-right corner distance\n      return sqDist(mx, my, x2, y2);\n    }\n  };\n\n  var cmpBbSqDist = function cmpBbSqDist(n1, n2) {\n    return bbSqDist(n1) - bbSqDist(n2);\n  };\n\n  var cmp = cmpBbSqDist;\n\n  var allowHoverDelay = false;\n\n  var mouseIsInside = function mouseIsInside(n) {\n    var mp = mousePos;\n    var w = n.outerWidth();\n    var halfW = w / 2;\n    var h = n.outerHeight();\n    var halfH = h / 2;\n    var p = n.position();\n    var x1 = p.x - halfW;\n    var x2 = p.x + halfW;\n    var y1 = p.y - halfH;\n    var y2 = p.y + halfH;\n\n    return x1 <= mp.x && mp.x <= x2 && y1 <= mp.y && mp.y <= y2;\n  };\n\n  var isEhEle = function isEhEle(n) {\n    return n.same(previewEles) || n.same(ghostNode);\n  };\n\n  var nodesByDist = cy.nodes(function (n) {\n    return !isEhEle(n) && isWithinThreshold(n);\n  }).sort(cmp);\n  var snapped = false;\n\n  if (tgt.nonempty() && !isWithinThreshold(tgt)) {\n    this.unpreview(tgt);\n  }\n\n  for (var i = 0; i < nodesByDist.length; i++) {\n    var n = nodesByDist[i];\n\n    // skip a parent node when the mouse is inside it\n    if (n.isParent() && mouseIsInside(n)) {\n      continue;\n    }\n\n    // skip a child node when the mouse is not inside the parent\n    if (n.isChild() && !mouseIsInside(n.parent())) {\n      continue;\n    }\n\n    if (n.same(tgt) || this.preview(n, allowHoverDelay)) {\n      snapped = true;\n      break;\n    }\n  }\n\n  return snapped;\n}\n\nfunction preview(target) {\n  var _this2 = this;\n\n  var allowHoverDelay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var options = this.options,\n      sourceNode = this.sourceNode,\n      ghostNode = this.ghostNode,\n      ghostEles = this.ghostEles,\n      presumptiveTargets = this.presumptiveTargets,\n      previewEles = this.previewEles,\n      active = this.active;\n\n  var source = sourceNode;\n  var isGhost = target.same(ghostNode);\n  var noEdge = !this.canConnect(target);\n  var isExistingTgt = target.same(this.targetNode);\n\n  if (!active || isGhost || noEdge || isExistingTgt\n  // || (target.isParent())\n  ) {\n      return false;\n    }\n\n  if (this.targetNode.nonempty()) {\n    this.unpreview(this.targetNode);\n  }\n\n  clearTimeout(this.previewTimeout);\n\n  var applyPreview = function applyPreview() {\n    _this2.targetNode = target;\n\n    presumptiveTargets.merge(target);\n\n    target.addClass('eh-presumptive-target');\n    target.addClass('eh-target');\n\n    _this2.emit('hoverover', _this2.mp(), source, target);\n\n    target.addClass('eh-preview');\n\n    ghostEles.addClass('eh-preview-active');\n    sourceNode.addClass('eh-preview-active');\n    target.addClass('eh-preview-active');\n\n    _this2.makePreview();\n\n    _this2.emit('previewon', _this2.mp(), source, target, previewEles);\n  };\n\n  if (allowHoverDelay && options.hoverDelay > 0) {\n    this.previewTimeout = setTimeout(applyPreview, options.hoverDelay);\n  } else {\n    applyPreview();\n  }\n\n  return true;\n}\n\nfunction unpreview(target) {\n  if (!this.active) {\n    return;\n  }\n\n  var previewTimeout = this.previewTimeout,\n      sourceNode = this.sourceNode,\n      previewEles = this.previewEles,\n      ghostEles = this.ghostEles,\n      cy = this.cy;\n\n  clearTimeout(previewTimeout);\n  this.previewTimeout = null;\n\n  var source = sourceNode;\n\n  target.removeClass('eh-preview eh-target eh-presumptive-target eh-preview-active');\n  ghostEles.removeClass('eh-preview-active');\n  sourceNode.removeClass('eh-preview-active');\n\n  this.targetNode = cy.collection();\n\n  this.removePreview(source, target);\n\n  this.emit('hoverout', this.mp(), source, target);\n  this.emit('previewoff', this.mp(), source, target, previewEles);\n\n  return this;\n}\n\nfunction stop() {\n  if (!this.active) {\n    return;\n  }\n\n  var sourceNode = this.sourceNode,\n      targetNode = this.targetNode,\n      ghostEles = this.ghostEles,\n      presumptiveTargets = this.presumptiveTargets;\n\n\n  clearTimeout(this.previewTimeout);\n\n  sourceNode.removeClass('eh-source eh-preview-active');\n  targetNode.removeClass('eh-target eh-preview eh-hover eh-preview-active');\n  presumptiveTargets.removeClass('eh-presumptive-target');\n\n  this.makeEdges();\n\n  ghostEles.remove();\n\n  this.clearCollections();\n\n  this.resetGestures();\n  this.enableEdgeEvents();\n\n  this.active = false;\n\n  this.emit('stop', this.mp(), sourceNode);\n\n  return this;\n}\n\nmodule.exports = {\n  start: start, update: update, preview: preview, unpreview: unpreview, stop: stop, snap: snap,\n  canStartOn: canStartOn, canStartDrawModeOn: canStartDrawModeOn, canStartNonDrawModeOn: canStartNonDrawModeOn\n};\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar defaults = __webpack_require__(4);\nvar assign = __webpack_require__(0);\nvar throttle = __webpack_require__(14);\n\nvar cyGesturesToggle = __webpack_require__(2);\nvar cyListeners = __webpack_require__(3);\nvar drawMode = __webpack_require__(5);\nvar drawing = __webpack_require__(6);\nvar enabling = __webpack_require__(8);\nvar gestureLifecycle = __webpack_require__(9);\nvar listeners = __webpack_require__(11);\nvar edgeEvents = __webpack_require__(7);\n\nfunction Edgehandles(options) {\n  var cy = options.cy;\n\n  this.cy = cy;\n  this.listeners = [];\n\n  // edgehandles gesture state\n  this.enabled = true;\n  this.drawMode = false;\n  this.active = false;\n  this.grabbingNode = false;\n\n  // edgehandles elements\n  this.clearCollections();\n\n  // mouse position\n  this.mx = 0;\n  this.my = 0;\n\n  this.options = assign({}, defaults, options);\n\n  this.saveGestureState();\n  this.addListeners();\n\n  this.throttledSnap = throttle(this.snap.bind(this), 1000 / options.snapFrequency);\n\n  this.preventDefault = function (e) {\n    return e.preventDefault();\n  };\n\n  // disabled until start()\n  this.canConnect = function () {\n    return false;\n  };\n\n  var supportsPassive = false;\n  try {\n    var opts = Object.defineProperty({}, 'passive', {\n      get: function get() {\n        supportsPassive = true;\n      }\n    });\n\n    window.addEventListener('test', null, opts);\n  } catch (err) {\n    // swallow\n  }\n\n  if (supportsPassive) {\n    this.windowListenerOptions = { capture: true, passive: false };\n  } else {\n    this.windowListenerOptions = true;\n  }\n}\n\nvar proto = Edgehandles.prototype = {};\nvar extend = function extend(obj) {\n  return assign(proto, obj);\n};\n\nproto.destroy = function () {\n  this.removeListeners();\n};\n\nproto.setOptions = function (options) {\n  assign(this.options, options);\n};\n\nproto.mp = function () {\n  return { x: this.mx, y: this.my };\n};\n\nproto.hp = function () {\n  return { x: this.hx, y: this.hy };\n};\n\nproto.clearCollections = function () {\n  var cy = this.cy;\n\n\n  this.previewEles = cy.collection();\n  this.ghostEles = cy.collection();\n  this.ghostNode = cy.collection();\n  this.sourceNode = cy.collection();\n  this.targetNode = cy.collection();\n  this.presumptiveTargets = cy.collection();\n};\n\n[cyGesturesToggle, cyListeners, drawMode, drawing, enabling, gestureLifecycle, listeners, edgeEvents].forEach(extend);\n\nmodule.exports = Edgehandles;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction addListeners() {\n  var _this = this;\n\n  this.addCytoscapeListeners();\n\n  this.addListener(this.cy, 'destroy', function () {\n    return _this.destroy();\n  });\n\n  return this;\n}\n\nfunction removeListeners() {\n  for (var i = this.listeners.length - 1; i >= 0; i--) {\n    var l = this.listeners[i];\n\n    this.removeListener(l.target, l.event, l.selector, l.callback, l.options);\n  }\n\n  return this;\n}\n\nfunction getListener(target, event, selector, callback, options) {\n  if ((typeof selector === 'undefined' ? 'undefined' : _typeof(selector)) !== _typeof('')) {\n    callback = selector;\n    options = callback;\n    selector = null;\n  }\n\n  if (options == null) {\n    options = false;\n  }\n\n  return { target: target, event: event, selector: selector, callback: callback, options: options };\n}\n\nfunction isDom(target) {\n  return target instanceof Element;\n}\n\nfunction addListener(target, event, selector, callback, options) {\n  var l = getListener(target, event, selector, callback, options);\n\n  this.listeners.push(l);\n\n  if (isDom(l.target)) {\n    l.target.addEventListener(l.event, l.callback, l.options);\n  } else {\n    if (l.selector) {\n      l.target.addListener(l.event, l.selector, l.callback, l.options);\n    } else {\n      l.target.addListener(l.event, l.callback, l.options);\n    }\n  }\n\n  return this;\n}\n\nfunction removeListener(target, event, selector, callback, options) {\n  var l = getListener(target, event, selector, callback, options);\n\n  for (var i = this.listeners.length - 1; i >= 0; i--) {\n    var l2 = this.listeners[i];\n\n    if (l.target === l2.target && l.event === l2.event && (l.selector == null || l.selector === l2.selector) && (l.callback == null || l.callback === l2.callback)) {\n      this.listeners.splice(i, 1);\n\n      if (isDom(l.target)) {\n        l.target.removeEventListener(l.event, l.callback, l.options);\n      } else {\n        if (l.selector) {\n          l.target.removeListener(l.event, l.selector, l.callback, l.options);\n        } else {\n          l.target.removeListener(l.event, l.callback, l.options);\n        }\n      }\n\n      break;\n    }\n  }\n\n  return this;\n}\n\nfunction emit(type, position) {\n  var cy = this.cy;\n\n  for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  cy.emit({ type: 'eh' + type, position: position }, args);\n\n  return this;\n}\n\nmodule.exports = { addListener: addListener, addListeners: addListeners, removeListener: removeListener, removeListeners: removeListeners, emit: emit };\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar impl = __webpack_require__(1);\n\n// registers the extension on a cytoscape lib ref\nvar register = function register(cytoscape) {\n  if (!cytoscape) {\n    return;\n  } // can't register if cytoscape unspecified\n\n  cytoscape('core', 'edgehandles', impl); // register with cytoscape.js\n};\n\nif (typeof cytoscape !== 'undefined') {\n  // expose to global cytoscape (i.e. window.cytoscape)\n  register(cytoscape); // eslint-disable-line no-undef\n}\n\nmodule.exports = register;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_14__;\n\n/***/ })\n/******/ ]);\n});"],"mappings":"AAAA,CAAC,SAASA,gCAAT,CAA0CC,IAA1C,EAAgDC,OAAhD,EAAyD;EACzD,IAAG,OAAOC,OAAP,KAAmB,QAAnB,IAA+B,OAAOC,MAAP,KAAkB,QAApD,EACCA,MAAM,CAACD,OAAP,GAAiBD,OAAO,CAACG,OAAO,CAAC,gBAAD,CAAR,EAA4BA,OAAO,CAAC,iBAAD,CAAnC,CAAxB,CADD,KAEK,IAAG,OAAOC,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACC,GAA1C,EACJD,MAAM,CAAC,CAAC,gBAAD,EAAmB,iBAAnB,CAAD,EAAwCJ,OAAxC,CAAN,CADI,KAEA,IAAG,OAAOC,OAAP,KAAmB,QAAtB,EACJA,OAAO,CAAC,sBAAD,CAAP,GAAkCD,OAAO,CAACG,OAAO,CAAC,gBAAD,CAAR,EAA4BA,OAAO,CAAC,iBAAD,CAAnC,CAAzC,CADI,KAGJJ,IAAI,CAAC,sBAAD,CAAJ,GAA+BC,OAAO,CAACD,IAAI,CAAC,GAAD,CAAJ,CAAU,SAAV,CAAD,EAAuBA,IAAI,CAAC,GAAD,CAAJ,CAAU,UAAV,CAAvB,CAAtC;AACD,CATD,EASG,IATH,EASS,UAASO,8BAAT,EAAyCC,8BAAzC,EAAyE;EAClF;IAAO;IAAU,UAASC,OAAT,EAAkB;MAAE;;MACrC;MAAU;;MACV;MAAU,IAAIC,gBAAgB,GAAG,EAAvB;MACV;;MACA;MAAU;;MACV;;MAAU,SAASC,mBAAT,CAA6BC,QAA7B,EAAuC;QACjD;;QACA;QAAW;;QACX;QAAW,IAAGF,gBAAgB,CAACE,QAAD,CAAnB,EAA+B;UAC1C;UAAY,OAAOF,gBAAgB,CAACE,QAAD,CAAhB,CAA2BV,OAAlC;UACZ;QAAY;QACZ;QAAW;;QACX;;;QAAW,IAAIC,MAAM,GAAGO,gBAAgB,CAACE,QAAD,CAAhB,GAA6B;UACrD;UAAYC,CAAC,EAAED,QADsC;;UAErD;UAAYE,CAAC,EAAE,KAFsC;;UAGrD;UAAYZ,OAAO,EAAE;UACrB;;QAJqD,CAA1C;QAKX;;QACA;QAAW;;QACX;;QAAWO,OAAO,CAACG,QAAD,CAAP,CAAkBG,IAAlB,CAAuBZ,MAAM,CAACD,OAA9B,EAAuCC,MAAvC,EAA+CA,MAAM,CAACD,OAAtD,EAA+DS,mBAA/D;QACX;;QACA;QAAW;;QACX;;QAAWR,MAAM,CAACW,CAAP,GAAW,IAAX;QACX;;QACA;QAAW;;QACX;;QAAW,OAAOX,MAAM,CAACD,OAAd;QACX;MAAW;MACX;;MACA;;MACA;MAAU;;MACV;;;MAAUS,mBAAmB,CAACK,CAApB,GAAwBP,OAAxB;MACV;;MACA;MAAU;;MACV;;MAAUE,mBAAmB,CAACM,CAApB,GAAwBP,gBAAxB;MACV;;MACA;MAAU;;MACV;;MAAUC,mBAAmB,CAACE,CAApB,GAAwB,UAASK,KAAT,EAAgB;QAAE,OAAOA,KAAP;MAAe,CAAzD;MACV;;MACA;MAAU;;MACV;;;MAAUP,mBAAmB,CAACQ,CAApB,GAAwB,UAASjB,OAAT,EAAkBkB,IAAlB,EAAwBC,MAAxB,EAAgC;QAClE;QAAW,IAAG,CAACV,mBAAmB,CAACW,CAApB,CAAsBpB,OAAtB,EAA+BkB,IAA/B,CAAJ,EAA0C;UACrD;UAAYG,MAAM,CAACC,cAAP,CAAsBtB,OAAtB,EAA+BkB,IAA/B,EAAqC;YACjD;YAAaK,YAAY,EAAE,KADsB;;YAEjD;YAAaC,UAAU,EAAE,IAFwB;;YAGjD;YAAaC,GAAG,EAAEN;YAClB;;UAJiD,CAArC;UAKZ;QAAY;QACZ;;MAAW,CARD;MASV;;MACA;MAAU;;MACV;;;MAAUV,mBAAmB,CAACiB,CAApB,GAAwB,UAASzB,MAAT,EAAiB;QACnD;QAAW,IAAIkB,MAAM,GAAGlB,MAAM,IAAIA,MAAM,CAAC0B,UAAjB;QACxB;QAAY,SAASC,UAAT,GAAsB;UAAE,OAAO3B,MAAM,CAAC,SAAD,CAAb;QAA2B,CADvC;QAExB;QAAY,SAAS4B,gBAAT,GAA4B;UAAE,OAAO5B,MAAP;QAAgB,CAF/C;QAGX;;QAAWQ,mBAAmB,CAACQ,CAApB,CAAsBE,MAAtB,EAA8B,GAA9B,EAAmCA,MAAnC;QACX;;;QAAW,OAAOA,MAAP;QACX;MAAW,CAND;MAOV;;MACA;MAAU;;MACV;;;MAAUV,mBAAmB,CAACW,CAApB,GAAwB,UAASU,MAAT,EAAiBC,QAAjB,EAA2B;QAAE,OAAOV,MAAM,CAACW,SAAP,CAAiBC,cAAjB,CAAgCpB,IAAhC,CAAqCiB,MAArC,EAA6CC,QAA7C,CAAP;MAAgE,CAArH;MACV;;MACA;MAAU;;MACV;;;MAAUtB,mBAAmB,CAACyB,CAApB,GAAwB,EAAxB;MACV;;MACA;MAAU;;MACV;;MAAU,OAAOzB,mBAAmB,CAACA,mBAAmB,CAAC0B,CAApB,GAAwB,EAAzB,CAA1B;MACV;IAAU;IACV;;IACA;IApEgB,CAoEN;IACV;;IACA;IAAO,UAASlC,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;MAEtD,aAFsD,CAKtD;;MAEAR,MAAM,CAACD,OAAP,GAAiBqB,MAAM,CAACe,MAAP,IAAiB,IAAjB,GAAwBf,MAAM,CAACe,MAAP,CAAcC,IAAd,CAAmBhB,MAAnB,CAAxB,GAAqD,UAAUiB,GAAV,EAAe;QACnF,KAAK,IAAIC,IAAI,GAAGC,SAAS,CAACC,MAArB,EAA6BC,IAAI,GAAGC,KAAK,CAACJ,IAAI,GAAG,CAAP,GAAWA,IAAI,GAAG,CAAlB,GAAsB,CAAvB,CAAzC,EAAoEK,IAAI,GAAG,CAAhF,EAAmFA,IAAI,GAAGL,IAA1F,EAAgGK,IAAI,EAApG,EAAwG;UACtGF,IAAI,CAACE,IAAI,GAAG,CAAR,CAAJ,GAAiBJ,SAAS,CAACI,IAAD,CAA1B;QACD;;QAEDF,IAAI,CAACG,MAAL,CAAY,UAAUC,GAAV,EAAe;UACzB,OAAOA,GAAG,IAAI,IAAd;QACD,CAFD,EAEGC,OAFH,CAEW,UAAUD,GAAV,EAAe;UACxBzB,MAAM,CAAC2B,IAAP,CAAYF,GAAZ,EAAiBC,OAAjB,CAAyB,UAAUE,CAAV,EAAa;YACpC,OAAOX,GAAG,CAACW,CAAD,CAAH,GAASH,GAAG,CAACG,CAAD,CAAnB;UACD,CAFD;QAGD,CAND;QAQA,OAAOX,GAAP;MACD,CAdD;MAgBA;IAAO,CAzBG;IA0BV;;IACA;IAAO,UAASrC,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;MAEtD;;MAGA,IAAIyC,WAAW,GAAGzC,mBAAmB,CAAC,EAAD,CAArC;;MACA,IAAI2B,MAAM,GAAG3B,mBAAmB,CAAC,CAAD,CAAhC;;MAEAR,MAAM,CAACD,OAAP,GAAiB,UAAUmD,OAAV,EAAmB;QAClC,IAAIC,EAAE,GAAG,IAAT;QAEA,OAAO,IAAIF,WAAJ,CAAgBd,MAAM,CAAC;UAAEgB,EAAE,EAAEA;QAAN,CAAD,EAAaD,OAAb,CAAtB,CAAP;MACD,CAJD;MAMA;;IAAO,CAzCG;IA0CV;;IACA;IAAO,UAASlD,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;MAEtD;;MAGA,SAAS4C,eAAT,GAA2B;QACzB,KAAKC,gBAAL;QAEA,KAAKF,EAAL,CAAQG,cAAR,CAAuB,KAAvB,EAA8BC,cAA9B,CAA6C,KAA7C,EAAoDC,mBAApD,CAAwE,KAAxE;;QAEA,IAAI,KAAKN,OAAL,CAAaO,sBAAjB,EAAyC;UACvC,IAAIC,MAAM,GAAG,KAAKC,qBAAlB;UAEAC,MAAM,CAACC,gBAAP,CAAwB,YAAxB,EAAsC,KAAKC,cAA3C,EAA2DJ,MAA3D;UACAE,MAAM,CAACC,gBAAP,CAAwB,WAAxB,EAAqC,KAAKC,cAA1C,EAA0DJ,MAA1D;UACAE,MAAM,CAACC,gBAAP,CAAwB,OAAxB,EAAiC,KAAKC,cAAtC,EAAsDJ,MAAtD;QACD;;QAED,OAAO,IAAP;MACD;;MAED,SAASK,aAAT,GAAyB;QACvB,KAAKZ,EAAL,CAAQG,cAAR,CAAuB,KAAKU,kBAA5B,EAAgDT,cAAhD,CAA+D,KAAKU,kBAApE,EAAwFT,mBAAxF,CAA4G,KAAKU,uBAAjH;;QAEA,IAAI,KAAKhB,OAAL,CAAaO,sBAAjB,EAAyC;UACvC,IAAIC,MAAM,GAAG,KAAKC,qBAAlB;UAEAC,MAAM,CAACO,mBAAP,CAA2B,YAA3B,EAAyC,KAAKL,cAA9C,EAA8DJ,MAA9D;UACAE,MAAM,CAACO,mBAAP,CAA2B,WAA3B,EAAwC,KAAKL,cAA7C,EAA6DJ,MAA7D;UACAE,MAAM,CAACO,mBAAP,CAA2B,OAA3B,EAAoC,KAAKL,cAAzC,EAAyDJ,MAAzD;QACD;;QAED,OAAO,IAAP;MACD;;MAED,SAASL,gBAAT,GAA4B;QAC1B,IAAIF,EAAE,GAAG,KAAKA,EAAd;QAGA,KAAKc,kBAAL,GAA0Bd,EAAE,CAACI,cAAH,EAA1B;QACA,KAAKS,kBAAL,GAA0Bb,EAAE,CAACG,cAAH,EAA1B;QACA,KAAKY,uBAAL,GAA+Bf,EAAE,CAACK,mBAAH,EAA/B;QAEA,OAAO,IAAP;MACD;;MAEDxD,MAAM,CAACD,OAAP,GAAiB;QAAEqD,eAAe,EAAEA,eAAnB;QAAoCW,aAAa,EAAEA,aAAnD;QAAkEV,gBAAgB,EAAEA;MAApF,CAAjB;MAEA;IAAO,CA3FG;IA4FV;;IACA;IAAO,UAASrD,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;MAEtD;;MAGA,SAAS4D,qBAAT,GAAiC;QAC/B,IAAIC,KAAK,GAAG,IAAZ;;QAEA,IAAIlB,EAAE,GAAG,KAAKA,EAAd;QAAA,IACID,OAAO,GAAG,KAAKA,OADnB,CAH+B,CAM/B;;QAEA,KAAKoB,WAAL,CAAiBnB,EAAjB,EAAqB,MAArB,EAA6B,YAAY;UACvC,OAAOkB,KAAK,CAACE,YAAN,GAAqB,IAA5B;QACD,CAFD;QAGA,KAAKD,WAAL,CAAiBnB,EAAjB,EAAqB,MAArB,EAA6B,YAAY;UACvC,OAAOkB,KAAK,CAACE,YAAN,GAAqB,KAA5B;QACD,CAFD,EAX+B,CAe/B;QACA;QACA;;QACA,KAAKD,WAAL,CAAiBnB,EAAjB,EAAqB,UAArB,EAAiC,MAAjC,EAAyC,UAAUqB,CAAV,EAAa;UACpD,IAAIC,IAAI,GAAGD,CAAC,CAACE,MAAb;;UAEA,IAAIL,KAAK,CAACM,QAAV,EAAoB;YAClBN,KAAK,CAACO,KAAN,CAAYH,IAAZ;UACD;QACF,CAND,EAlB+B,CA0B/B;;QACA,KAAKH,WAAL,CAAiBnB,EAAjB,EAAqB,SAArB,EAAgC,UAAUqB,CAAV,EAAa;UAC3CH,KAAK,CAACQ,MAAN,CAAaL,CAAC,CAACM,QAAf;QACD,CAFD,EA3B+B,CA+B/B;;QACA,KAAKR,WAAL,CAAiBnB,EAAjB,EAAqB,aAArB,EAAoC,MAApC,EAA4C,UAAUqB,CAAV,EAAa;UACvD,IAAItB,OAAO,CAAC6B,IAAZ,EAAkB,CAChB;UACD,CAFD,MAEO;YACLV,KAAK,CAACW,OAAN,CAAcR,CAAC,CAACE,MAAhB;UACD;QACF,CAND,EAhC+B,CAwC/B;;QACA,KAAKJ,WAAL,CAAiBnB,EAAjB,EAAqB,YAArB,EAAmC,MAAnC,EAA2C,UAAUqB,CAAV,EAAa;UACtD,IAAItB,OAAO,CAAC6B,IAAZ,EAAkB,CAChB;UACD,CAFD,MAEO;YACLV,KAAK,CAACY,SAAN,CAAgBT,CAAC,CAACE,MAAlB;UACD;QACF,CAND,EAzC+B,CAiD/B;;QACA,KAAKJ,WAAL,CAAiBnB,EAAjB,EAAqB,QAArB,EAA+B,YAAY;UACzCkB,KAAK,CAACa,IAAN;QACD,CAFD;QAIA,OAAO,IAAP;MACD;;MAEDlF,MAAM,CAACD,OAAP,GAAiB;QAAEqE,qBAAqB,EAAEA;MAAzB,CAAjB;MAEA;IAAO,CA7JG;IA8JV;;IACA;IAAO,UAASpE,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;MAEtD;MAGA;;MACA,IAAI2E,QAAQ,GAAG;QACbC,UAAU,EAAE,SAASA,UAAT,CAAoBC,UAApB,EAAgCC,UAAhC,EAA4C;UACtD;UACA,OAAO,CAACD,UAAU,CAACE,IAAX,CAAgBD,UAAhB,CAAR,CAFsD,CAEjB;QACtC,CAJY;QAKbE,UAAU,EAAE,SAASA,UAAT,CAAoBH,UAApB,EAAgCC,UAAhC,EAA4C;UACtD;UACA;UACA,OAAO,EAAP;QACD,CATY;QAUbG,UAAU,EAAE,GAVC;QAUI;QACjBV,IAAI,EAAE,IAXO;QAWD;QACZW,aAAa,EAAE,EAZF;QAYM;QACnBC,aAAa,EAAE,EAbF;QAaM;QACnBC,kBAAkB,EAAE,IAdP;QAca;QAC1BnC,sBAAsB,EAAE,IAfX,CAegB;;MAfhB,CAAf;MAiBA;;MAEAzD,MAAM,CAACD,OAAP,GAAiBoF,QAAjB;MAEA;IAAO,CA1LG;IA2LV;;IACA;IAAO,UAASnF,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;MAEtD;;MAGA,SAASqF,cAAT,CAAwBC,IAAxB,EAA8B;QAC5B,IAAI3C,EAAE,GAAG,KAAKA,EAAd;QAGA,KAAKwB,QAAL,GAAgBmB,IAAI,IAAI,IAAR,GAAeA,IAAf,GAAsB,CAAC,KAAKnB,QAA5C;;QAEA,IAAI,KAAKA,QAAT,EAAmB;UACjB,KAAKoB,kBAAL,GAA0B5C,EAAE,CAAC6C,aAAH,EAA1B;UAEA7C,EAAE,CAAC6C,aAAH,CAAiB,IAAjB;UAEA,KAAKC,IAAL,CAAU,QAAV;QACD,CAND,MAMO;UACL9C,EAAE,CAAC6C,aAAH,CAAiB,KAAKD,kBAAtB;UAEA,KAAKE,IAAL,CAAU,SAAV;QACD;;QAED,OAAO,IAAP;MACD;;MAED,SAASC,cAAT,GAA0B;QACxB,OAAO,KAAKL,cAAL,CAAoB,IAApB,CAAP;MACD;;MAED,SAASM,eAAT,GAA2B;QACzB,OAAO,KAAKN,cAAL,CAAoB,KAApB,CAAP;MACD;;MAED7F,MAAM,CAACD,OAAP,GAAiB;QAAE8F,cAAc,EAAEA,cAAlB;QAAkCK,cAAc,EAAEA,cAAlD;QAAkEC,eAAe,EAAEA;MAAnF,CAAjB;MAEA;IAAO,CAhOG;IAiOV;;IACA;IAAO,UAASnG,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;MAEtD;;MAGA,IAAI4F,OAAO,GAAG,OAAOC,MAAP,KAAkB,UAAlB,IAAgC,OAAOA,MAAM,CAACC,QAAd,KAA2B,QAA3D,GAAsE,UAAUC,GAAV,EAAe;QAAE,OAAO,OAAOA,GAAd;MAAoB,CAA3G,GAA8G,UAAUA,GAAV,EAAe;QAAE,OAAOA,GAAG,IAAI,OAAOF,MAAP,KAAkB,UAAzB,IAAuCE,GAAG,CAACC,WAAJ,KAAoBH,MAA3D,IAAqEE,GAAG,KAAKF,MAAM,CAACtE,SAApF,GAAgG,QAAhG,GAA2G,OAAOwE,GAAzH;MAA+H,CAA5Q;;MAEA,IAAIpE,MAAM,GAAG3B,mBAAmB,CAAC,CAAD,CAAhC;;MACA,IAAIiG,QAAQ,GAAG,SAASA,QAAT,CAAkBC,CAAlB,EAAqB;QAClC,OAAO,CAAC,OAAOA,CAAP,KAAa,WAAb,GAA2B,WAA3B,GAAyCN,OAAO,CAACM,CAAD,CAAjD,MAA0DN,OAAO,CAAC,EAAD,CAAxE;MACD,CAFD;;MAGA,IAAIO,OAAO,GAAG,SAASA,OAAT,CAAiBD,CAAjB,EAAoB;QAChC,OAAO,CAAC,OAAOA,CAAP,KAAa,WAAb,GAA2B,WAA3B,GAAyCN,OAAO,CAACM,CAAD,CAAjD,MAA0DN,OAAO,CAAC,EAAD,CAAjE,IAAyEM,CAAC,CAAClE,MAAF,IAAY,IAA5F;MACD,CAFD;;MAIA,SAASoE,UAAT,CAAoBC,SAApB,EAA+BC,MAA/B,EAAuCC,YAAvC,EAAqD;QACnD,IAAIC,IAAI,GAAG,EAAX,CADmD,CAGnD;;QACA7E,MAAM,CAAC6E,IAAD,EAAOF,MAAP,EAAeD,SAAf,CAAN,CAJmD,CAMnD;;QACA1E,MAAM,CAAC6E,IAAI,CAACC,IAAN,EAAYH,MAAM,CAACG,IAAnB,EAAyBJ,SAAS,CAACI,IAAnC,CAAN;;QAEA,IAAIR,QAAQ,CAACK,MAAM,CAACI,OAAR,CAAZ,EAA8B;UAC5BF,IAAI,CAACE,OAAL,GAAeJ,MAAM,CAACI,OAAP,GAAiB,GAAjB,GAAuBH,YAAtC;QACD,CAFD,MAEO,IAAIJ,OAAO,CAACG,MAAM,CAACI,OAAR,CAAX,EAA6B;UAClCF,IAAI,CAACE,OAAL,GAAeJ,MAAM,CAACI,OAAP,CAAeC,IAAf,CAAoB,GAApB,IAA2B,GAA3B,GAAiCJ,YAAhD;QACD,CAFM,MAEA;UACLC,IAAI,CAACE,OAAL,GAAeH,YAAf;QACD;;QAED,OAAOC,IAAP;MACD;;MAED,SAASI,SAAT,GAAqB;QACnB,IAAIpC,OAAO,GAAGzC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB8E,SAAzC,GAAqD9E,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAAlF;QACA,IAAIY,EAAE,GAAG,KAAKA,EAAd;QAAA,IACID,OAAO,GAAG,KAAKA,OADnB;QAAA,IAEIoE,kBAAkB,GAAG,KAAKA,kBAF9B;QAAA,IAGIC,WAAW,GAAG,KAAKA,WAHvB;QAAA,IAIIC,MAAM,GAAG,KAAKA,MAJlB;QAOA,IAAIC,MAAM,GAAG,KAAKpC,UAAlB;QACA,IAAIX,MAAM,GAAG,KAAKY,UAAlB;QACA,IAAI4B,OAAO,GAAGlC,OAAO,GAAG,YAAH,GAAkB,EAAvC;QACA,IAAI0C,KAAK,GAAGvE,EAAE,CAACwE,UAAH,EAAZ;QACA,IAAIvC,UAAU,GAAG,KAAKA,UAAL,CAAgBV,MAAhB,CAAjB,CAbmB,CAenB;;QACA,IAAI,CAAC8C,MAAL,EAAa;UACX;QACD,CAlBkB,CAoBnB;;;QACA,IAAI,CAACpC,UAAL,EAAiB;UACf;QACD,CAvBkB,CAyBnB;;;QACA,IAAI,CAACV,MAAD,IAAWA,MAAM,CAACkD,IAAP,OAAkB,CAAjC,EAAoC;UAClCL,WAAW,CAACM,MAAZ;UAEA,KAAK5B,IAAL,CAAU,QAAV,EAAoB,KAAK6B,EAAL,EAApB,EAA+BL,MAA/B,EAAuCH,kBAAvC;UAEA;QACD,CAhCkB,CAkCnB;;;QACA,IAAI,CAACtC,OAAL,EAAc;UACZuC,WAAW,CAACQ,WAAZ,CAAwB,YAAxB,EAAsCC,KAAtC,CAA4C,QAA5C,EAAsD,EAAtD;UAEA,KAAK/B,IAAL,CAAU,UAAV,EAAsB,KAAK6B,EAAL,EAAtB,EAAiCL,MAAjC,EAAyC/C,MAAzC,EAAiD6C,WAAjD;UAEA;QACD;;QAED,IAAIU,aAAa,GAAG9E,EAAE,CAAC+E,GAAH,CAAOtB,UAAU,CAAC;UACpCuB,KAAK,EAAE,OAD6B;UAEpClB,IAAI,EAAE;YACJQ,MAAM,EAAEA,MAAM,CAACW,EAAP,EADJ;YAEJ1D,MAAM,EAAEA,MAAM,CAAC0D,EAAP;UAFJ;QAF8B,CAAD,EAMlC,KAAK5C,UAAL,CAAgBd,MAAhB,CANkC,EAMTwC,OANS,CAAjB,CAApB;QAQAQ,KAAK,GAAGA,KAAK,CAACW,KAAN,CAAYJ,aAAZ,CAAR;;QAEA,IAAIjD,OAAJ,EAAa;UACX,KAAKuC,WAAL,GAAmBG,KAAnB;UAEAA,KAAK,CAACM,KAAN,CAAY,QAAZ,EAAsB,IAAtB;QACD,CAJD,MAIO;UACLN,KAAK,CAACM,KAAN,CAAY,QAAZ,EAAsB,EAAtB;UAEA,KAAK/B,IAAL,CAAU,UAAV,EAAsB,KAAK6B,EAAL,EAAtB,EAAiCL,MAAjC,EAAyC/C,MAAzC,EAAiDgD,KAAjD;QACD;;QAED,OAAO,IAAP;MACD;;MAED,SAASY,WAAT,GAAuB;QACrB,KAAKlB,SAAL,CAAe,IAAf;QAEA,OAAO,IAAP;MACD;;MAED,SAASmB,YAAT,GAAwB;QACtB,OAAO,KAAKhB,WAAL,CAAiBiB,QAAjB,MAA+B,KAAKjB,WAAL,CAAiBkB,MAAjB,EAAtC;MACD;;MAED,SAASC,aAAT,GAAyB;QACvB,IAAI,KAAKH,YAAL,EAAJ,EAAyB;UACvB,KAAKhB,WAAL,CAAiBM,MAAjB;QACD;;QAED,OAAO,IAAP;MACD;;MAED,SAASc,UAAT,GAAsB;QACpB,IAAItE,KAAK,GAAG,IAAZ;;QAEA,IAAIgB,UAAU,GAAG,KAAKA,UAAtB;QAAA,IACIuD,SAAS,GAAG,KAAKA,SADrB;QAAA,IAEIzF,EAAE,GAAG,KAAKA,EAFd;QAAA,IAGI0F,EAAE,GAAG,KAAKA,EAHd;QAAA,IAIIC,EAAE,GAAG,KAAKA,EAJd;QAMA,IAAIpC,CAAC,GAAGmC,EAAR;QACA,IAAIE,CAAC,GAAGD,EAAR;QACA,IAAIE,SAAS,GAAG,KAAK,CAArB;QAAA,IACIC,SAAS,GAAG,KAAK,CADrB,CAXoB,CAcpB;;QACA,IAAI,CAAC5D,UAAL,EAAiB;UACf;QACD;;QAED,IAAI,CAACuD,SAAD,IAAcA,SAAS,CAACpG,MAAV,KAAqB,CAAnC,IAAwCoG,SAAS,CAACM,OAAV,EAA5C,EAAiE;UAC/DD,SAAS,GAAG,KAAKA,SAAL,GAAiB9F,EAAE,CAACwE,UAAH,EAA7B;UAEAxE,EAAE,CAACgG,KAAH,CAAS,YAAY;YACnBP,SAAS,GAAGvE,KAAK,CAACuE,SAAN,GAAkBzF,EAAE,CAAC+E,GAAH,CAAO;cACnCC,KAAK,EAAE,OAD4B;cAEnCjB,OAAO,EAAE,wBAF0B;cAGnCpC,QAAQ,EAAE;gBACR4B,CAAC,EAAE,CADK;gBAERqC,CAAC,EAAE;cAFK;YAHyB,CAAP,CAA9B;YASAH,SAAS,CAACZ,KAAV,CAAgB;cACd,oBAAoB,MADN;cAEd,SAAS,MAFK;cAGd,UAAU,MAHI;cAId,WAAW,CAJG;cAKd,UAAU;YALI,CAAhB;YAQA,IAAIoB,eAAe,GAAG,EAAtB;YAEAJ,SAAS,GAAG7F,EAAE,CAAC+E,GAAH,CAAO/F,MAAM,CAAC,EAAD,EAAKiH,eAAL,EAAsB;cAC7CjB,KAAK,EAAE,OADsC;cAE7ClB,IAAI,EAAE9E,MAAM,CAAC,EAAD,EAAKiH,eAAe,CAACnC,IAArB,EAA2B;gBACrCQ,MAAM,EAAEpC,UAAU,CAAC+C,EAAX,EAD6B;gBAErC1D,MAAM,EAAEkE,SAAS,CAACR,EAAV;cAF6B,CAA3B,CAFiC;cAM7ClB,OAAO,EAAE;YANoC,CAAtB,CAAb,CAAZ;YASA8B,SAAS,CAAChB,KAAV,CAAgB;cACd,UAAU;YADI,CAAhB;UAGD,CAhCD;UAkCAiB,SAAS,CAACZ,KAAV,CAAgBO,SAAhB,EAA2BP,KAA3B,CAAiCW,SAAjC;QACD;;QAEDJ,SAAS,CAAC9D,QAAV,CAAmB;UAAE4B,CAAC,EAAEA,CAAL;UAAQqC,CAAC,EAAEA;QAAX,CAAnB;QAEA,OAAO,IAAP;MACD;;MAED/I,MAAM,CAACD,OAAP,GAAiB;QACfqH,SAAS,EAAEA,SADI;QACOkB,WAAW,EAAEA,WADpB;QACiCI,aAAa,EAAEA,aADhD;QAC+DH,YAAY,EAAEA,YAD7E;QAEfI,UAAU,EAAEA;MAFG,CAAjB;MAKA;IAAO,CA9ZG;IA+ZV;;IACA;IAAO,UAAS3I,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;MAEtD;;MAGA,SAAS6I,iBAAT,GAA6B;QAC3B,IAAI,KAAKnG,OAAL,CAAa0C,kBAAjB,EAAqC;UACnC,KAAKzC,EAAL,CAAQmG,KAAR,GAAgBtB,KAAhB,CAAsB,QAAtB,EAAgC,IAAhC;QACD;;QAED,OAAO,IAAP;MACD;;MAED,SAASuB,gBAAT,GAA4B;QAC1B,IAAI,KAAKrG,OAAL,CAAa0C,kBAAjB,EAAqC;UACnC,KAAKzC,EAAL,CAAQmG,KAAR,GAAgBtB,KAAhB,CAAsB,QAAtB,EAAgC,EAAhC;QACD;;QAED,OAAO,IAAP;MACD;;MAEDhI,MAAM,CAACD,OAAP,GAAiB;QAAEsJ,iBAAiB,EAAEA,iBAArB;QAAwCE,gBAAgB,EAAEA;MAA1D,CAAjB;MAEA;IAAO,CAvbG;IAwbV;;IACA;IAAO,UAASvJ,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;MAEtD;;MAGA,SAASgJ,MAAT,GAAkB;QAChB,KAAKC,OAAL,GAAe,IAAf;QAEA,KAAKxD,IAAL,CAAU,QAAV;QAEA,OAAO,IAAP;MACD;;MAED,SAASyD,OAAT,GAAmB;QACjB,KAAKD,OAAL,GAAe,KAAf;QAEA,KAAKxD,IAAL,CAAU,SAAV;QAEA,OAAO,IAAP;MACD;;MAEDjG,MAAM,CAACD,OAAP,GAAiB;QAAEyJ,MAAM,EAAEA,MAAV;QAAkBE,OAAO,EAAEA;MAA3B,CAAjB;MAEA;IAAO,CAhdG;IAidV;;IACA;IAAO,UAAS1J,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;MAEtD;;MAGA,IAAImJ,OAAO,GAAGnJ,mBAAmB,CAAC,EAAD,CAAjC;;MACA,IAAIoJ,KAAK,GAAGC,IAAI,CAACC,IAAL,CAAU,CAAV,CAAZ;;MAEA,SAASC,UAAT,CAAoBtF,IAApB,EAA0B;QACxB,IAAI8C,WAAW,GAAG,KAAKA,WAAvB;QAAA,IACI0B,SAAS,GAAG,KAAKA,SADrB;;QAGA,IAAIe,SAAS,GAAG,SAASA,SAAT,CAAmBC,EAAnB,EAAuB;UACrC,OAAO1C,WAAW,CAAC2C,OAAZ,CAAoBD,EAApB,CAAP;QACD,CAFD;;QAGA,IAAIE,OAAO,GAAG,SAASA,OAAT,CAAiBF,EAAjB,EAAqB;UACjC,OAAOhB,SAAS,CAACiB,OAAV,CAAkBD,EAAlB,CAAP;QACD,CAFD;;QAGA,IAAIG,MAAM,GAAG,SAASA,MAAT,CAAgBH,EAAhB,EAAoB;UAC/B,OAAOD,SAAS,CAACC,EAAD,CAAT,IAAiBE,OAAO,CAACF,EAAD,CAA/B;QACD,CAFD;;QAIA,IAAIR,OAAO,GAAG,KAAKA,OAAnB;QAAA,IACIjC,MAAM,GAAG,KAAKA,MADlB;QAAA,IAEIjD,YAAY,GAAG,KAAKA,YAFxB;QAKA,OAAOkF,OAAO,IAAI,CAACjC,MAAZ,IAAsB,CAACjD,YAAvB,IAAuCE,IAAI,IAAI,IAA/C,IAAuDA,IAAI,CAAC+D,QAAL,EAAvD,IAA0E,CAAC4B,MAAM,CAAC3F,IAAD,CAAxF;MACD;;MAED,SAAS4F,kBAAT,CAA4B5F,IAA5B,EAAkC;QAChC,OAAO,KAAKsF,UAAL,CAAgBtF,IAAhB,KAAyB,KAAKE,QAArC;MACD;;MAED,SAAS2F,qBAAT,CAA+B7F,IAA/B,EAAqC;QACnC,OAAO,KAAKsF,UAAL,CAAgBtF,IAAhB,KAAyB,CAAC,KAAKE,QAAtC;MACD;;MAED,SAASC,KAAT,CAAeH,IAAf,EAAqB;QACnB,IAAIJ,KAAK,GAAG,IAAZ;;QAEA,IAAI,CAAC,KAAK0F,UAAL,CAAgBtF,IAAhB,CAAL,EAA4B;UAC1B;QACD;;QAED,KAAK+C,MAAL,GAAc,IAAd;QAEA,KAAKnC,UAAL,GAAkBZ,IAAlB;QACA,KAAKY,UAAL,CAAgBkF,QAAhB,CAAyB,WAAzB;QAEA,KAAKnH,eAAL;QACA,KAAKiG,iBAAL;;QAEA,IAAImB,KAAK,GAAG,SAASA,KAAT,CAAe/I,CAAf,EAAkB;UAC5B,OAAOA,CAAC,CAAC2G,EAAF,EAAP;QACD,CAFD;;QAIA,KAAKhD,UAAL,GAAkBuE,OAAO,CAAC,UAAUjF,MAAV,EAAkB;UAC1C,OAAOL,KAAK,CAACnB,OAAN,CAAckC,UAAd,CAAyBf,KAAK,CAACgB,UAA/B,EAA2CX,MAA3C,CAAP;QACD,CAFwB,EAEtB8F,KAFsB,CAAzB;QAIA,KAAKhF,UAAL,GAAkBmE,OAAO,CAAC,UAAUjF,MAAV,EAAkB;UAC1C,OAAOL,KAAK,CAACnB,OAAN,CAAcsC,UAAd,CAAyBnB,KAAK,CAACgB,UAA/B,EAA2CX,MAA3C,CAAP;QACD,CAFwB,EAEtB8F,KAFsB,CAAzB;QAIA,KAAKvE,IAAL,CAAU,OAAV,EAAmB,KAAKwE,EAAL,EAAnB,EAA8BhG,IAA9B;MACD;;MAED,SAASI,MAAT,CAAgB6F,GAAhB,EAAqB;QACnB,IAAI,CAAC,KAAKlD,MAAV,EAAkB;UAChB;QACD;;QAED,IAAIvF,CAAC,GAAGyI,GAAR;QAEA,KAAK7B,EAAL,GAAU5G,CAAC,CAACyE,CAAZ;QACA,KAAKoC,EAAL,GAAU7G,CAAC,CAAC8G,CAAZ;QAEA,KAAKJ,UAAL;QACA,KAAKgC,aAAL;QAEA,OAAO,IAAP;MACD;;MAED,SAAS5F,IAAT,GAAgB;QACd,IAAI,CAAC,KAAKyC,MAAN,IAAgB,CAAC,KAAKtE,OAAL,CAAa6B,IAAlC,EAAwC;UACtC,OAAO,KAAP;QACD;;QAED,IAAI5B,EAAE,GAAG,KAAKA,EAAd;QACA,IAAId,GAAG,GAAG,KAAKiD,UAAf;QACA,IAAIsF,SAAS,GAAG,KAAK1H,OAAL,CAAawC,aAA7B;QACA,IAAImF,QAAQ,GAAG,KAAK/C,EAAL,EAAf;QACA,IAAIP,WAAW,GAAG,KAAKA,WAAvB;QAAA,IACIqB,SAAS,GAAG,KAAKA,SADrB;;QAIA,IAAIkC,MAAM,GAAG,SAASA,MAAT,CAAgBrJ,CAAhB,EAAmB;UAC9B,OAAOmI,KAAK,GAAGC,IAAI,CAACkB,GAAL,CAAStJ,CAAC,CAACuJ,UAAF,EAAT,EAAyBvJ,CAAC,CAACwJ,WAAF,EAAzB,CAAR,GAAoD,CAA3D;QACD,CAFD,CAbc,CAeX;;;QACH,IAAIC,MAAM,GAAG,SAASA,MAAT,CAAgBC,EAAhB,EAAoBC,EAApB,EAAwBC,EAAxB,EAA4BC,EAA5B,EAAgC;UAC3C,IAAIC,EAAE,GAAGF,EAAE,GAAGF,EAAd;UAAiB,IAAIK,EAAE,GAAGF,EAAE,GAAGF,EAAd;UAAiB,OAAOG,EAAE,GAAGA,EAAL,GAAUC,EAAE,GAAGA,EAAtB;QACnC,CAFD;;QAGA,IAAIC,UAAU,GAAG,SAASA,UAAT,CAAoBC,EAApB,EAAwBC,EAAxB,EAA4B;UAC3C,OAAOT,MAAM,CAACQ,EAAE,CAAChF,CAAJ,EAAOgF,EAAE,CAAC3C,CAAV,EAAa4C,EAAE,CAACjF,CAAhB,EAAmBiF,EAAE,CAAC5C,CAAtB,CAAb;QACD,CAFD;;QAGA,IAAI6C,UAAU,GAAG,SAASA,UAAT,CAAoBnK,CAApB,EAAuB;UACtC,OAAOgK,UAAU,CAAChK,CAAC,CAACqD,QAAF,EAAD,EAAe+F,QAAf,CAAjB;QACD,CAFD;;QAIA,IAAIgB,WAAW,GAAG,SAASA,WAAT,CAAqBpK,CAArB,EAAwB;UACxC,IAAIqK,CAAC,GAAGhB,MAAM,CAACrJ,CAAD,CAAd;UAAkB,IAAIsK,CAAC,GAAGD,CAAC,GAAGlB,SAAZ;UAAsB,OAAOmB,CAAC,GAAGA,CAAX;QACzC,CAFD;;QAGA,IAAIC,iBAAiB,GAAG,SAASA,iBAAT,CAA2BvK,CAA3B,EAA8B;UACpD,OAAOmK,UAAU,CAACnK,CAAD,CAAV,IAAiBoK,WAAW,CAACpK,CAAD,CAAnC;QACD,CAFD;;QAIA,IAAIwK,QAAQ,GAAG,SAASA,QAAT,CAAkBxK,CAAlB,EAAqB;UAClC,IAAIQ,CAAC,GAAGR,CAAC,CAACqD,QAAF,EAAR;UACA,IAAIoH,KAAK,GAAGzK,CAAC,CAACuJ,UAAF,KAAiB,CAA7B;UACA,IAAImB,KAAK,GAAG1K,CAAC,CAACwJ,WAAF,KAAkB,CAA9B,CAHkC,CAKlC;;UACA,IAAImB,EAAE,GAAGnK,CAAC,CAACyE,CAAX;UACA,IAAI2F,EAAE,GAAGpK,CAAC,CAAC8G,CAAX;UACA,IAAIF,EAAE,GAAGgC,QAAQ,CAACnE,CAAlB;UACA,IAAIoC,EAAE,GAAG+B,QAAQ,CAAC9B,CAAlB,CATkC,CAWlC;;UACA,IAAIoC,EAAE,GAAGiB,EAAE,GAAGF,KAAd;UACA,IAAIb,EAAE,GAAGe,EAAE,GAAGF,KAAd;UACA,IAAId,EAAE,GAAGiB,EAAE,GAAGF,KAAd;UACA,IAAIb,EAAE,GAAGe,EAAE,GAAGF,KAAd;UAEA,IAAIG,aAAa,GAAGnB,EAAE,IAAItC,EAAN,IAAYA,EAAE,IAAIwC,EAAtC;UACA,IAAIkB,aAAa,GAAGnB,EAAE,IAAItC,EAAN,IAAYA,EAAE,IAAIwC,EAAtC;;UAEA,IAAIgB,aAAa,IAAIC,aAArB,EAAoC;YAClC;YACA,OAAO,CAAP;UACD,CAHD,MAGO,IAAID,aAAJ,EAAmB;YACxB;YACA,IAAIE,GAAG,GAAG1D,EAAE,GAAGsC,EAAf;YACA,IAAIqB,GAAG,GAAG3D,EAAE,GAAGwC,EAAf;YAEA,OAAOzB,IAAI,CAAC6C,GAAL,CAASF,GAAG,GAAGA,GAAf,EAAoBC,GAAG,GAAGA,GAA1B,CAAP;UACD,CANM,MAMA,IAAIF,aAAJ,EAAmB;YACxB;YACA,IAAII,GAAG,GAAG9D,EAAE,GAAGsC,EAAf;YACA,IAAIyB,GAAG,GAAG/D,EAAE,GAAGwC,EAAf;YAEA,OAAOxB,IAAI,CAAC6C,GAAL,CAASC,GAAG,GAAGA,GAAf,EAAoBC,GAAG,GAAGA,GAA1B,CAAP;UACD,CANM,MAMA,IAAI/D,EAAE,GAAGsC,EAAL,IAAWrC,EAAE,GAAGsC,EAApB,EAAwB;YAC7B;YACA,OAAOF,MAAM,CAACrC,EAAD,EAAKC,EAAL,EAASqC,EAAT,EAAaC,EAAb,CAAb;UACD,CAHM,MAGA,IAAIvC,EAAE,GAAGwC,EAAL,IAAWvC,EAAE,GAAGsC,EAApB,EAAwB;YAC7B;YACA,OAAOF,MAAM,CAACrC,EAAD,EAAKC,EAAL,EAASuC,EAAT,EAAaD,EAAb,CAAb;UACD,CAHM,MAGA,IAAIvC,EAAE,GAAGsC,EAAL,IAAWrC,EAAE,GAAGwC,EAApB,EAAwB;YAC7B;YACA,OAAOJ,MAAM,CAACrC,EAAD,EAAKC,EAAL,EAASqC,EAAT,EAAaG,EAAb,CAAb;UACD,CAHM,MAGA;YACL;YACA,OAAOJ,MAAM,CAACrC,EAAD,EAAKC,EAAL,EAASuC,EAAT,EAAaC,EAAb,CAAb;UACD;QACF,CAhDD;;QAkDA,IAAIuB,WAAW,GAAG,SAASA,WAAT,CAAqBC,EAArB,EAAyBC,EAAzB,EAA6B;UAC7C,OAAOd,QAAQ,CAACa,EAAD,CAAR,GAAeb,QAAQ,CAACc,EAAD,CAA9B;QACD,CAFD;;QAIA,IAAIC,GAAG,GAAGH,WAAV;QAEA,IAAII,eAAe,GAAG,KAAtB;;QAEA,IAAIC,aAAa,GAAG,SAASA,aAAT,CAAuBzL,CAAvB,EAA0B;UAC5C,IAAIqG,EAAE,GAAG+C,QAAT;UACA,IAAIsC,CAAC,GAAG1L,CAAC,CAACuJ,UAAF,EAAR;UACA,IAAIkB,KAAK,GAAGiB,CAAC,GAAG,CAAhB;UACA,IAAIC,CAAC,GAAG3L,CAAC,CAACwJ,WAAF,EAAR;UACA,IAAIkB,KAAK,GAAGiB,CAAC,GAAG,CAAhB;UACA,IAAInL,CAAC,GAAGR,CAAC,CAACqD,QAAF,EAAR;UACA,IAAIqG,EAAE,GAAGlJ,CAAC,CAACyE,CAAF,GAAMwF,KAAf;UACA,IAAIb,EAAE,GAAGpJ,CAAC,CAACyE,CAAF,GAAMwF,KAAf;UACA,IAAId,EAAE,GAAGnJ,CAAC,CAAC8G,CAAF,GAAMoD,KAAf;UACA,IAAIb,EAAE,GAAGrJ,CAAC,CAAC8G,CAAF,GAAMoD,KAAf;UAEA,OAAOhB,EAAE,IAAIrD,EAAE,CAACpB,CAAT,IAAcoB,EAAE,CAACpB,CAAH,IAAQ2E,EAAtB,IAA4BD,EAAE,IAAItD,EAAE,CAACiB,CAArC,IAA0CjB,EAAE,CAACiB,CAAH,IAAQuC,EAAzD;QACD,CAbD;;QAeA,IAAI+B,OAAO,GAAG,SAASA,OAAT,CAAiB5L,CAAjB,EAAoB;UAChC,OAAOA,CAAC,CAAC8D,IAAF,CAAOgC,WAAP,KAAuB9F,CAAC,CAAC8D,IAAF,CAAOqD,SAAP,CAA9B;QACD,CAFD;;QAIA,IAAI0E,WAAW,GAAGnK,EAAE,CAACoK,KAAH,CAAS,UAAU9L,CAAV,EAAa;UACtC,OAAO,CAAC4L,OAAO,CAAC5L,CAAD,CAAR,IAAeuK,iBAAiB,CAACvK,CAAD,CAAvC;QACD,CAFiB,EAEf+L,IAFe,CAEVR,GAFU,CAAlB;QAGA,IAAIS,OAAO,GAAG,KAAd;;QAEA,IAAIpL,GAAG,CAACmG,QAAJ,MAAkB,CAACwD,iBAAiB,CAAC3J,GAAD,CAAxC,EAA+C;UAC7C,KAAK4C,SAAL,CAAe5C,GAAf;QACD;;QAED,KAAK,IAAI3B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4M,WAAW,CAAC9K,MAAhC,EAAwC9B,CAAC,EAAzC,EAA6C;UAC3C,IAAIe,CAAC,GAAG6L,WAAW,CAAC5M,CAAD,CAAnB,CAD2C,CAG3C;;UACA,IAAIe,CAAC,CAACiM,QAAF,MAAgBR,aAAa,CAACzL,CAAD,CAAjC,EAAsC;YACpC;UACD,CAN0C,CAQ3C;;;UACA,IAAIA,CAAC,CAACkM,OAAF,MAAe,CAACT,aAAa,CAACzL,CAAC,CAACmM,MAAF,EAAD,CAAjC,EAA+C;YAC7C;UACD;;UAED,IAAInM,CAAC,CAAC8D,IAAF,CAAOlD,GAAP,KAAe,KAAK2C,OAAL,CAAavD,CAAb,EAAgBwL,eAAhB,CAAnB,EAAqD;YACnDQ,OAAO,GAAG,IAAV;YACA;UACD;QACF;;QAED,OAAOA,OAAP;MACD;;MAED,SAASzI,OAAT,CAAiBN,MAAjB,EAAyB;QACvB,IAAImJ,MAAM,GAAG,IAAb;;QAEA,IAAIZ,eAAe,GAAG1K,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB8E,SAAzC,GAAqD9E,SAAS,CAAC,CAAD,CAA9D,GAAoE,IAA1F;QACA,IAAIW,OAAO,GAAG,KAAKA,OAAnB;QAAA,IACImC,UAAU,GAAG,KAAKA,UADtB;QAAA,IAEIuD,SAAS,GAAG,KAAKA,SAFrB;QAAA,IAGIK,SAAS,GAAG,KAAKA,SAHrB;QAAA,IAII3B,kBAAkB,GAAG,KAAKA,kBAJ9B;QAAA,IAKIC,WAAW,GAAG,KAAKA,WALvB;QAAA,IAMIC,MAAM,GAAG,KAAKA,MANlB;QAQA,IAAIC,MAAM,GAAGpC,UAAb;QACA,IAAI8E,OAAO,GAAGzF,MAAM,CAACa,IAAP,CAAYqD,SAAZ,CAAd;QACA,IAAIkF,MAAM,GAAG,CAAC,KAAK1I,UAAL,CAAgBV,MAAhB,CAAd;QACA,IAAIqJ,aAAa,GAAGrJ,MAAM,CAACa,IAAP,CAAY,KAAKD,UAAjB,CAApB;;QAEA,IAAI,CAACkC,MAAD,IAAW2C,OAAX,IAAsB2D,MAAtB,IAAgCC,aAApC,CACA;QADA,EAEE;UACE,OAAO,KAAP;QACD;;QAEH,IAAI,KAAKzI,UAAL,CAAgBkD,QAAhB,EAAJ,EAAgC;UAC9B,KAAKvD,SAAL,CAAe,KAAKK,UAApB;QACD;;QAED0I,YAAY,CAAC,KAAKC,cAAN,CAAZ;;QAEA,IAAIC,YAAY,GAAG,SAASA,YAAT,GAAwB;UACzCL,MAAM,CAACvI,UAAP,GAAoBZ,MAApB;UAEA4C,kBAAkB,CAACe,KAAnB,CAAyB3D,MAAzB;UAEAA,MAAM,CAAC6F,QAAP,CAAgB,uBAAhB;UACA7F,MAAM,CAAC6F,QAAP,CAAgB,WAAhB;;UAEAsD,MAAM,CAAC5H,IAAP,CAAY,WAAZ,EAAyB4H,MAAM,CAAC/F,EAAP,EAAzB,EAAsCL,MAAtC,EAA8C/C,MAA9C;;UAEAA,MAAM,CAAC6F,QAAP,CAAgB,YAAhB;UAEAtB,SAAS,CAACsB,QAAV,CAAmB,mBAAnB;UACAlF,UAAU,CAACkF,QAAX,CAAoB,mBAApB;UACA7F,MAAM,CAAC6F,QAAP,CAAgB,mBAAhB;;UAEAsD,MAAM,CAACvF,WAAP;;UAEAuF,MAAM,CAAC5H,IAAP,CAAY,WAAZ,EAAyB4H,MAAM,CAAC/F,EAAP,EAAzB,EAAsCL,MAAtC,EAA8C/C,MAA9C,EAAsD6C,WAAtD;QACD,CAnBD;;QAqBA,IAAI0F,eAAe,IAAI/J,OAAO,CAACuC,UAAR,GAAqB,CAA5C,EAA+C;UAC7C,KAAKwI,cAAL,GAAsBE,UAAU,CAACD,YAAD,EAAehL,OAAO,CAACuC,UAAvB,CAAhC;QACD,CAFD,MAEO;UACLyI,YAAY;QACb;;QAED,OAAO,IAAP;MACD;;MAED,SAASjJ,SAAT,CAAmBP,MAAnB,EAA2B;QACzB,IAAI,CAAC,KAAK8C,MAAV,EAAkB;UAChB;QACD;;QAED,IAAIyG,cAAc,GAAG,KAAKA,cAA1B;QAAA,IACI5I,UAAU,GAAG,KAAKA,UADtB;QAAA,IAEIkC,WAAW,GAAG,KAAKA,WAFvB;QAAA,IAGI0B,SAAS,GAAG,KAAKA,SAHrB;QAAA,IAII9F,EAAE,GAAG,KAAKA,EAJd;QAMA6K,YAAY,CAACC,cAAD,CAAZ;QACA,KAAKA,cAAL,GAAsB,IAAtB;QAEA,IAAIxG,MAAM,GAAGpC,UAAb;QAEAX,MAAM,CAACqD,WAAP,CAAmB,8DAAnB;QACAkB,SAAS,CAAClB,WAAV,CAAsB,mBAAtB;QACA1C,UAAU,CAAC0C,WAAX,CAAuB,mBAAvB;QAEA,KAAKzC,UAAL,GAAkBnC,EAAE,CAACwE,UAAH,EAAlB;QAEA,KAAKe,aAAL,CAAmBjB,MAAnB,EAA2B/C,MAA3B;QAEA,KAAKuB,IAAL,CAAU,UAAV,EAAsB,KAAK6B,EAAL,EAAtB,EAAiCL,MAAjC,EAAyC/C,MAAzC;QACA,KAAKuB,IAAL,CAAU,YAAV,EAAwB,KAAK6B,EAAL,EAAxB,EAAmCL,MAAnC,EAA2C/C,MAA3C,EAAmD6C,WAAnD;QAEA,OAAO,IAAP;MACD;;MAED,SAASrC,IAAT,GAAgB;QACd,IAAI,CAAC,KAAKsC,MAAV,EAAkB;UAChB;QACD;;QAED,IAAInC,UAAU,GAAG,KAAKA,UAAtB;QAAA,IACIC,UAAU,GAAG,KAAKA,UADtB;QAAA,IAEI2D,SAAS,GAAG,KAAKA,SAFrB;QAAA,IAGI3B,kBAAkB,GAAG,KAAKA,kBAH9B;QAMA0G,YAAY,CAAC,KAAKC,cAAN,CAAZ;QAEA5I,UAAU,CAAC0C,WAAX,CAAuB,6BAAvB;QACAzC,UAAU,CAACyC,WAAX,CAAuB,iDAAvB;QACAT,kBAAkB,CAACS,WAAnB,CAA+B,uBAA/B;QAEA,KAAKX,SAAL;QAEA6B,SAAS,CAACpB,MAAV;QAEA,KAAKuG,gBAAL;QAEA,KAAKrK,aAAL;QACA,KAAKwF,gBAAL;QAEA,KAAK/B,MAAL,GAAc,KAAd;QAEA,KAAKvB,IAAL,CAAU,MAAV,EAAkB,KAAK6B,EAAL,EAAlB,EAA6BzC,UAA7B;QAEA,OAAO,IAAP;MACD;;MAEDrF,MAAM,CAACD,OAAP,GAAiB;QACf6E,KAAK,EAAEA,KADQ;QACDC,MAAM,EAAEA,MADP;QACeG,OAAO,EAAEA,OADxB;QACiCC,SAAS,EAAEA,SAD5C;QACuDC,IAAI,EAAEA,IAD7D;QACmEH,IAAI,EAAEA,IADzE;QAEfgF,UAAU,EAAEA,UAFG;QAESM,kBAAkB,EAAEA,kBAF7B;QAEiDC,qBAAqB,EAAEA;MAFxE,CAAjB;MAKA;IAAO,CAlzBG;IAmzBV;;IACA;IAAO,UAAStK,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;MAEtD;;MAGA,IAAI2E,QAAQ,GAAG3E,mBAAmB,CAAC,CAAD,CAAlC;;MACA,IAAI2B,MAAM,GAAG3B,mBAAmB,CAAC,CAAD,CAAhC;;MACA,IAAI6N,QAAQ,GAAG7N,mBAAmB,CAAC,EAAD,CAAlC;;MAEA,IAAI8N,gBAAgB,GAAG9N,mBAAmB,CAAC,CAAD,CAA1C;;MACA,IAAI+N,WAAW,GAAG/N,mBAAmB,CAAC,CAAD,CAArC;;MACA,IAAImE,QAAQ,GAAGnE,mBAAmB,CAAC,CAAD,CAAlC;;MACA,IAAIgO,OAAO,GAAGhO,mBAAmB,CAAC,CAAD,CAAjC;;MACA,IAAIiO,QAAQ,GAAGjO,mBAAmB,CAAC,CAAD,CAAlC;;MACA,IAAIkO,gBAAgB,GAAGlO,mBAAmB,CAAC,CAAD,CAA1C;;MACA,IAAImO,SAAS,GAAGnO,mBAAmB,CAAC,EAAD,CAAnC;;MACA,IAAIoO,UAAU,GAAGpO,mBAAmB,CAAC,CAAD,CAApC;;MAEA,SAASyC,WAAT,CAAqBC,OAArB,EAA8B;QAC5B,IAAIC,EAAE,GAAGD,OAAO,CAACC,EAAjB;QAEA,KAAKA,EAAL,GAAUA,EAAV;QACA,KAAKwL,SAAL,GAAiB,EAAjB,CAJ4B,CAM5B;;QACA,KAAKlF,OAAL,GAAe,IAAf;QACA,KAAK9E,QAAL,GAAgB,KAAhB;QACA,KAAK6C,MAAL,GAAc,KAAd;QACA,KAAKjD,YAAL,GAAoB,KAApB,CAV4B,CAY5B;;QACA,KAAK6J,gBAAL,GAb4B,CAe5B;;QACA,KAAKvF,EAAL,GAAU,CAAV;QACA,KAAKC,EAAL,GAAU,CAAV;QAEA,KAAK5F,OAAL,GAAef,MAAM,CAAC,EAAD,EAAKgD,QAAL,EAAejC,OAAf,CAArB;QAEA,KAAKG,gBAAL;QACA,KAAKwL,YAAL;QAEA,KAAKlE,aAAL,GAAqB0D,QAAQ,CAAC,KAAKtJ,IAAL,CAAU3C,IAAV,CAAe,IAAf,CAAD,EAAuB,OAAOc,OAAO,CAACyC,aAAtC,CAA7B;;QAEA,KAAK7B,cAAL,GAAsB,UAAUU,CAAV,EAAa;UACjC,OAAOA,CAAC,CAACV,cAAF,EAAP;QACD,CAFD,CA1B4B,CA8B5B;;;QACA,KAAKsB,UAAL,GAAkB,YAAY;UAC5B,OAAO,KAAP;QACD,CAFD;;QAIA,IAAI0J,eAAe,GAAG,KAAtB;;QACA,IAAI;UACF,IAAIC,IAAI,GAAG3N,MAAM,CAACC,cAAP,CAAsB,EAAtB,EAA0B,SAA1B,EAAqC;YAC9CG,GAAG,EAAE,SAASA,GAAT,GAAe;cAClBsN,eAAe,GAAG,IAAlB;YACD;UAH6C,CAArC,CAAX;UAMAlL,MAAM,CAACC,gBAAP,CAAwB,MAAxB,EAAgC,IAAhC,EAAsCkL,IAAtC;QACD,CARD,CAQE,OAAOC,GAAP,EAAY,CACZ;QACD;;QAED,IAAIF,eAAJ,EAAqB;UACnB,KAAKnL,qBAAL,GAA6B;YAAEsL,OAAO,EAAE,IAAX;YAAiBC,OAAO,EAAE;UAA1B,CAA7B;QACD,CAFD,MAEO;UACL,KAAKvL,qBAAL,GAA6B,IAA7B;QACD;MACF;;MAED,IAAIwL,KAAK,GAAGlM,WAAW,CAAClB,SAAZ,GAAwB,EAApC;;MACA,IAAIqN,MAAM,GAAG,SAASA,MAAT,CAAgB7I,GAAhB,EAAqB;QAChC,OAAOpE,MAAM,CAACgN,KAAD,EAAQ5I,GAAR,CAAb;MACD,CAFD;;MAIA4I,KAAK,CAACE,OAAN,GAAgB,YAAY;QAC1B,KAAKC,eAAL;MACD,CAFD;;MAIAH,KAAK,CAACI,UAAN,GAAmB,UAAUrM,OAAV,EAAmB;QACpCf,MAAM,CAAC,KAAKe,OAAN,EAAeA,OAAf,CAAN;MACD,CAFD;;MAIAiM,KAAK,CAACrH,EAAN,GAAW,YAAY;QACrB,OAAO;UAAEpB,CAAC,EAAE,KAAKmC,EAAV;UAAcE,CAAC,EAAE,KAAKD;QAAtB,CAAP;MACD,CAFD;;MAIAqG,KAAK,CAAC1E,EAAN,GAAW,YAAY;QACrB,OAAO;UAAE/D,CAAC,EAAE,KAAK8I,EAAV;UAAczG,CAAC,EAAE,KAAK0G;QAAtB,CAAP;MACD,CAFD;;MAIAN,KAAK,CAACf,gBAAN,GAAyB,YAAY;QACnC,IAAIjL,EAAE,GAAG,KAAKA,EAAd;QAGA,KAAKoE,WAAL,GAAmBpE,EAAE,CAACwE,UAAH,EAAnB;QACA,KAAKsB,SAAL,GAAiB9F,EAAE,CAACwE,UAAH,EAAjB;QACA,KAAKiB,SAAL,GAAiBzF,EAAE,CAACwE,UAAH,EAAjB;QACA,KAAKtC,UAAL,GAAkBlC,EAAE,CAACwE,UAAH,EAAlB;QACA,KAAKrC,UAAL,GAAkBnC,EAAE,CAACwE,UAAH,EAAlB;QACA,KAAKL,kBAAL,GAA0BnE,EAAE,CAACwE,UAAH,EAA1B;MACD,CAVD;;MAYA,CAAC2G,gBAAD,EAAmBC,WAAnB,EAAgC5J,QAAhC,EAA0C6J,OAA1C,EAAmDC,QAAnD,EAA6DC,gBAA7D,EAA+EC,SAA/E,EAA0FC,UAA1F,EAAsG9L,OAAtG,CAA8GsM,MAA9G;MAEApP,MAAM,CAACD,OAAP,GAAiBkD,WAAjB;MAEA;IAAO,CAl6BG;IAm6BV;;IACA;IAAO,UAASjD,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;MAEtD;;MAGA,IAAI4F,OAAO,GAAG,OAAOC,MAAP,KAAkB,UAAlB,IAAgC,OAAOA,MAAM,CAACC,QAAd,KAA2B,QAA3D,GAAsE,UAAUC,GAAV,EAAe;QAAE,OAAO,OAAOA,GAAd;MAAoB,CAA3G,GAA8G,UAAUA,GAAV,EAAe;QAAE,OAAOA,GAAG,IAAI,OAAOF,MAAP,KAAkB,UAAzB,IAAuCE,GAAG,CAACC,WAAJ,KAAoBH,MAA3D,IAAqEE,GAAG,KAAKF,MAAM,CAACtE,SAApF,GAAgG,QAAhG,GAA2G,OAAOwE,GAAzH;MAA+H,CAA5Q;;MAEA,SAASsI,YAAT,GAAwB;QACtB,IAAIxK,KAAK,GAAG,IAAZ;;QAEA,KAAKD,qBAAL;QAEA,KAAKE,WAAL,CAAiB,KAAKnB,EAAtB,EAA0B,SAA1B,EAAqC,YAAY;UAC/C,OAAOkB,KAAK,CAACgL,OAAN,EAAP;QACD,CAFD;QAIA,OAAO,IAAP;MACD;;MAED,SAASC,eAAT,GAA2B;QACzB,KAAK,IAAI5O,CAAC,GAAG,KAAKiO,SAAL,CAAenM,MAAf,GAAwB,CAArC,EAAwC9B,CAAC,IAAI,CAA7C,EAAgDA,CAAC,EAAjD,EAAqD;UACnD,IAAIC,CAAC,GAAG,KAAKgO,SAAL,CAAejO,CAAf,CAAR;UAEA,KAAKgP,cAAL,CAAoB/O,CAAC,CAAC+D,MAAtB,EAA8B/D,CAAC,CAACgP,KAAhC,EAAuChP,CAAC,CAACiP,QAAzC,EAAmDjP,CAAC,CAACkP,QAArD,EAA+DlP,CAAC,CAACuC,OAAjE;QACD;;QAED,OAAO,IAAP;MACD;;MAED,SAAS4M,WAAT,CAAqBpL,MAArB,EAA6BiL,KAA7B,EAAoCC,QAApC,EAA8CC,QAA9C,EAAwD3M,OAAxD,EAAiE;QAC/D,IAAI,CAAC,OAAO0M,QAAP,KAAoB,WAApB,GAAkC,WAAlC,GAAgDxJ,OAAO,CAACwJ,QAAD,CAAxD,MAAwExJ,OAAO,CAAC,EAAD,CAAnF,EAAyF;UACvFyJ,QAAQ,GAAGD,QAAX;UACA1M,OAAO,GAAG2M,QAAV;UACAD,QAAQ,GAAG,IAAX;QACD;;QAED,IAAI1M,OAAO,IAAI,IAAf,EAAqB;UACnBA,OAAO,GAAG,KAAV;QACD;;QAED,OAAO;UAAEwB,MAAM,EAAEA,MAAV;UAAkBiL,KAAK,EAAEA,KAAzB;UAAgCC,QAAQ,EAAEA,QAA1C;UAAoDC,QAAQ,EAAEA,QAA9D;UAAwE3M,OAAO,EAAEA;QAAjF,CAAP;MACD;;MAED,SAAS6M,KAAT,CAAerL,MAAf,EAAuB;QACrB,OAAOA,MAAM,YAAYsL,OAAzB;MACD;;MAED,SAAS1L,WAAT,CAAqBI,MAArB,EAA6BiL,KAA7B,EAAoCC,QAApC,EAA8CC,QAA9C,EAAwD3M,OAAxD,EAAiE;QAC/D,IAAIvC,CAAC,GAAGmP,WAAW,CAACpL,MAAD,EAASiL,KAAT,EAAgBC,QAAhB,EAA0BC,QAA1B,EAAoC3M,OAApC,CAAnB;QAEA,KAAKyL,SAAL,CAAesB,IAAf,CAAoBtP,CAApB;;QAEA,IAAIoP,KAAK,CAACpP,CAAC,CAAC+D,MAAH,CAAT,EAAqB;UACnB/D,CAAC,CAAC+D,MAAF,CAASb,gBAAT,CAA0BlD,CAAC,CAACgP,KAA5B,EAAmChP,CAAC,CAACkP,QAArC,EAA+ClP,CAAC,CAACuC,OAAjD;QACD,CAFD,MAEO;UACL,IAAIvC,CAAC,CAACiP,QAAN,EAAgB;YACdjP,CAAC,CAAC+D,MAAF,CAASJ,WAAT,CAAqB3D,CAAC,CAACgP,KAAvB,EAA8BhP,CAAC,CAACiP,QAAhC,EAA0CjP,CAAC,CAACkP,QAA5C,EAAsDlP,CAAC,CAACuC,OAAxD;UACD,CAFD,MAEO;YACLvC,CAAC,CAAC+D,MAAF,CAASJ,WAAT,CAAqB3D,CAAC,CAACgP,KAAvB,EAA8BhP,CAAC,CAACkP,QAAhC,EAA0ClP,CAAC,CAACuC,OAA5C;UACD;QACF;;QAED,OAAO,IAAP;MACD;;MAED,SAASwM,cAAT,CAAwBhL,MAAxB,EAAgCiL,KAAhC,EAAuCC,QAAvC,EAAiDC,QAAjD,EAA2D3M,OAA3D,EAAoE;QAClE,IAAIvC,CAAC,GAAGmP,WAAW,CAACpL,MAAD,EAASiL,KAAT,EAAgBC,QAAhB,EAA0BC,QAA1B,EAAoC3M,OAApC,CAAnB;;QAEA,KAAK,IAAIxC,CAAC,GAAG,KAAKiO,SAAL,CAAenM,MAAf,GAAwB,CAArC,EAAwC9B,CAAC,IAAI,CAA7C,EAAgDA,CAAC,EAAjD,EAAqD;UACnD,IAAIwP,EAAE,GAAG,KAAKvB,SAAL,CAAejO,CAAf,CAAT;;UAEA,IAAIC,CAAC,CAAC+D,MAAF,KAAawL,EAAE,CAACxL,MAAhB,IAA0B/D,CAAC,CAACgP,KAAF,KAAYO,EAAE,CAACP,KAAzC,KAAmDhP,CAAC,CAACiP,QAAF,IAAc,IAAd,IAAsBjP,CAAC,CAACiP,QAAF,KAAeM,EAAE,CAACN,QAA3F,MAAyGjP,CAAC,CAACkP,QAAF,IAAc,IAAd,IAAsBlP,CAAC,CAACkP,QAAF,KAAeK,EAAE,CAACL,QAAjJ,CAAJ,EAAgK;YAC9J,KAAKlB,SAAL,CAAewB,MAAf,CAAsBzP,CAAtB,EAAyB,CAAzB;;YAEA,IAAIqP,KAAK,CAACpP,CAAC,CAAC+D,MAAH,CAAT,EAAqB;cACnB/D,CAAC,CAAC+D,MAAF,CAASP,mBAAT,CAA6BxD,CAAC,CAACgP,KAA/B,EAAsChP,CAAC,CAACkP,QAAxC,EAAkDlP,CAAC,CAACuC,OAApD;YACD,CAFD,MAEO;cACL,IAAIvC,CAAC,CAACiP,QAAN,EAAgB;gBACdjP,CAAC,CAAC+D,MAAF,CAASgL,cAAT,CAAwB/O,CAAC,CAACgP,KAA1B,EAAiChP,CAAC,CAACiP,QAAnC,EAA6CjP,CAAC,CAACkP,QAA/C,EAAyDlP,CAAC,CAACuC,OAA3D;cACD,CAFD,MAEO;gBACLvC,CAAC,CAAC+D,MAAF,CAASgL,cAAT,CAAwB/O,CAAC,CAACgP,KAA1B,EAAiChP,CAAC,CAACkP,QAAnC,EAA6ClP,CAAC,CAACuC,OAA/C;cACD;YACF;;YAED;UACD;QACF;;QAED,OAAO,IAAP;MACD;;MAED,SAAS+C,IAAT,CAAcmK,IAAd,EAAoBtL,QAApB,EAA8B;QAC5B,IAAI3B,EAAE,GAAG,KAAKA,EAAd;;QAEA,KAAK,IAAIb,IAAI,GAAGC,SAAS,CAACC,MAArB,EAA6B6N,IAAI,GAAG3N,KAAK,CAACJ,IAAI,GAAG,CAAP,GAAWA,IAAI,GAAG,CAAlB,GAAsB,CAAvB,CAAzC,EAAoEK,IAAI,GAAG,CAAhF,EAAmFA,IAAI,GAAGL,IAA1F,EAAgGK,IAAI,EAApG,EAAwG;UACtG0N,IAAI,CAAC1N,IAAI,GAAG,CAAR,CAAJ,GAAiBJ,SAAS,CAACI,IAAD,CAA1B;QACD;;QAEDQ,EAAE,CAAC8C,IAAH,CAAQ;UAAEmK,IAAI,EAAE,OAAOA,IAAf;UAAqBtL,QAAQ,EAAEA;QAA/B,CAAR,EAAmDuL,IAAnD;QAEA,OAAO,IAAP;MACD;;MAEDrQ,MAAM,CAACD,OAAP,GAAiB;QAAEuE,WAAW,EAAEA,WAAf;QAA4BuK,YAAY,EAAEA,YAA1C;QAAwDa,cAAc,EAAEA,cAAxE;QAAwFJ,eAAe,EAAEA,eAAzG;QAA0HrJ,IAAI,EAAEA;MAAhI,CAAjB;MAEA;IAAO,CA7gCG;IA8gCV;;IACA;IAAO,UAASjG,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;MAEtD;;MAGA,IAAI8P,IAAI,GAAG9P,mBAAmB,CAAC,CAAD,CAA9B,CALsD,CAOtD;;;MACA,IAAI+P,QAAQ,GAAG,SAASA,QAAT,CAAkBC,SAAlB,EAA6B;QAC1C,IAAI,CAACA,SAAL,EAAgB;UACd;QACD,CAHyC,CAGxC;;;QAEFA,SAAS,CAAC,MAAD,EAAS,aAAT,EAAwBF,IAAxB,CAAT,CAL0C,CAKF;MACzC,CAND;;MAQA,IAAI,OAAOE,SAAP,KAAqB,WAAzB,EAAsC;QACpC;QACAD,QAAQ,CAACC,SAAD,CAAR,CAFoC,CAEf;MACtB;;MAEDxQ,MAAM,CAACD,OAAP,GAAiBwQ,QAAjB;MAEA;IAAO,CAtiCG;IAuiCV;;IACA;IAAO,UAASvQ,MAAT,EAAiBD,OAAjB,EAA0B;MAEjCC,MAAM,CAACD,OAAP,GAAiBK,8BAAjB;MAEA;IAAO,CA5iCG;IA6iCV;;IACA;IAAO,UAASJ,MAAT,EAAiBD,OAAjB,EAA0B;MAEjCC,MAAM,CAACD,OAAP,GAAiBM,8BAAjB;MAEA;IAAO;IACP;IAnjCU,CApEM;EAAhB;AAwnCC,CAloCD"},"metadata":{},"sourceType":"script"}